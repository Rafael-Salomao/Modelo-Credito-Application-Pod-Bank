{"cells":[{"cell_type":"markdown","metadata":{"id":"rab3HnZYn-Hz"},"source":["# **Modelo Regressão Logística**"]},{"cell_type":"code","execution_count":6,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":2017,"status":"ok","timestamp":1702927722735,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"},"user_tz":180},"id":"8_hn1vbwnPze","outputId":"628578a4-302e-45c0-b601-a083ecd1442e"},"outputs":[{"output_type":"stream","name":"stdout","text":["Drive already mounted at /content/drive; to attempt to forcibly remount, call drive.mount(\"/content/drive\", force_remount=True).\n"]}],"source":["from google.colab import drive\n","drive.mount('/content/drive')"]},{"cell_type":"markdown","metadata":{"id":"BC33GWwdoFvc"},"source":["### **Bibliotecas importantes para o projeto**"]},{"cell_type":"code","execution_count":7,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":1000},"executionInfo":{"elapsed":41987,"status":"ok","timestamp":1702927764715,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"},"user_tz":180},"id":"yR-Mw61pnaKP","outputId":"2d206b13-b986-4d79-ce17-ea264e14f11b"},"outputs":[{"output_type":"stream","name":"stdout","text":["Requirement already satisfied: boto3==1.17.105 in /usr/local/lib/python3.10/dist-packages (1.17.105)\n","Collecting botocore<1.21.0,>=1.20.105 (from boto3==1.17.105)\n","  Using cached botocore-1.20.112-py2.py3-none-any.whl (7.7 MB)\n","Requirement already satisfied: jmespath<1.0.0,>=0.7.1 in /usr/local/lib/python3.10/dist-packages (from boto3==1.17.105) (0.10.0)\n","Requirement already satisfied: s3transfer<0.5.0,>=0.4.0 in /usr/local/lib/python3.10/dist-packages (from boto3==1.17.105) (0.4.2)\n","Requirement already satisfied: python-dateutil<3.0.0,>=2.1 in /usr/local/lib/python3.10/dist-packages (from botocore<1.21.0,>=1.20.105->boto3==1.17.105) (2.8.2)\n","Requirement already satisfied: urllib3<1.27,>=1.25.4 in /usr/local/lib/python3.10/dist-packages (from botocore<1.21.0,>=1.20.105->boto3==1.17.105) (1.26.18)\n","Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.10/dist-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.21.0,>=1.20.105->boto3==1.17.105) (1.16.0)\n","Installing collected packages: botocore\n","  Attempting uninstall: botocore\n","    Found existing installation: botocore 1.33.13\n","    Uninstalling botocore-1.33.13:\n","      Successfully uninstalled botocore-1.33.13\n","\u001b[31mERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\n","aiobotocore 2.9.0 requires botocore<1.33.14,>=1.33.2, but you have botocore 1.20.112 which is incompatible.\u001b[0m\u001b[31m\n","\u001b[0mSuccessfully installed botocore-1.20.112\n"]},{"output_type":"display_data","data":{"application/vnd.colab-display-data+json":{"pip_warning":{"packages":["botocore"]}}},"metadata":{}},{"output_type":"stream","name":"stdout","text":["Requirement already satisfied: botocore in /usr/local/lib/python3.10/dist-packages (1.20.112)\n","Collecting botocore\n","  Using cached botocore-1.34.2-py3-none-any.whl (11.8 MB)\n","Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /usr/local/lib/python3.10/dist-packages (from botocore) (0.10.0)\n","Requirement already satisfied: python-dateutil<3.0.0,>=2.1 in /usr/local/lib/python3.10/dist-packages (from botocore) (2.8.2)\n","Requirement already satisfied: urllib3<2.1,>=1.25.4 in /usr/local/lib/python3.10/dist-packages (from botocore) (1.26.18)\n","Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.10/dist-packages (from python-dateutil<3.0.0,>=2.1->botocore) (1.16.0)\n","Installing collected packages: botocore\n","  Attempting uninstall: botocore\n","    Found existing installation: botocore 1.20.112\n","    Uninstalling botocore-1.20.112:\n","      Successfully uninstalled botocore-1.20.112\n","\u001b[31mERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\n","aiobotocore 2.9.0 requires botocore<1.33.14,>=1.33.2, but you have botocore 1.34.2 which is incompatible.\n","boto3 1.17.105 requires botocore<1.21.0,>=1.20.105, but you have botocore 1.34.2 which is incompatible.\u001b[0m\u001b[31m\n","\u001b[0mSuccessfully installed botocore-1.34.2\n"]},{"output_type":"display_data","data":{"application/vnd.colab-display-data+json":{"pip_warning":{"packages":["botocore"]}}},"metadata":{}},{"output_type":"stream","name":"stdout","text":["Requirement already satisfied: s3fs in /usr/local/lib/python3.10/dist-packages (2023.12.2)\n","Requirement already satisfied: aiobotocore<3.0.0,>=2.5.4 in /usr/local/lib/python3.10/dist-packages (from s3fs) (2.9.0)\n","Requirement already satisfied: fsspec==2023.12.2 in /usr/local/lib/python3.10/dist-packages (from s3fs) (2023.12.2)\n","Requirement already satisfied: aiohttp!=4.0.0a0,!=4.0.0a1 in /usr/local/lib/python3.10/dist-packages (from s3fs) (3.9.1)\n","Collecting botocore<1.33.14,>=1.33.2 (from aiobotocore<3.0.0,>=2.5.4->s3fs)\n","  Using cached botocore-1.33.13-py3-none-any.whl (11.8 MB)\n","Requirement already satisfied: wrapt<2.0.0,>=1.10.10 in /usr/local/lib/python3.10/dist-packages (from aiobotocore<3.0.0,>=2.5.4->s3fs) (1.14.1)\n","Requirement already satisfied: aioitertools<1.0.0,>=0.5.1 in /usr/local/lib/python3.10/dist-packages (from aiobotocore<3.0.0,>=2.5.4->s3fs) (0.11.0)\n","Requirement already satisfied: attrs>=17.3.0 in /usr/local/lib/python3.10/dist-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) (23.1.0)\n","Requirement already satisfied: multidict<7.0,>=4.5 in /usr/local/lib/python3.10/dist-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) (6.0.4)\n","Requirement already satisfied: yarl<2.0,>=1.0 in /usr/local/lib/python3.10/dist-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) (1.9.4)\n","Requirement already satisfied: frozenlist>=1.1.1 in /usr/local/lib/python3.10/dist-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) (1.4.0)\n","Requirement already satisfied: aiosignal>=1.1.2 in /usr/local/lib/python3.10/dist-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) (1.3.1)\n","Requirement already satisfied: async-timeout<5.0,>=4.0 in /usr/local/lib/python3.10/dist-packages (from aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) (4.0.3)\n","Requirement already satisfied: jmespath<2.0.0,>=0.7.1 in /usr/local/lib/python3.10/dist-packages (from botocore<1.33.14,>=1.33.2->aiobotocore<3.0.0,>=2.5.4->s3fs) (0.10.0)\n","Requirement already satisfied: python-dateutil<3.0.0,>=2.1 in /usr/local/lib/python3.10/dist-packages (from botocore<1.33.14,>=1.33.2->aiobotocore<3.0.0,>=2.5.4->s3fs) (2.8.2)\n","Requirement already satisfied: urllib3<2.1,>=1.25.4 in /usr/local/lib/python3.10/dist-packages (from botocore<1.33.14,>=1.33.2->aiobotocore<3.0.0,>=2.5.4->s3fs) (1.26.18)\n","Requirement already satisfied: idna>=2.0 in /usr/local/lib/python3.10/dist-packages (from yarl<2.0,>=1.0->aiohttp!=4.0.0a0,!=4.0.0a1->s3fs) (3.6)\n","Requirement already satisfied: six>=1.5 in /usr/local/lib/python3.10/dist-packages (from python-dateutil<3.0.0,>=2.1->botocore<1.33.14,>=1.33.2->aiobotocore<3.0.0,>=2.5.4->s3fs) (1.16.0)\n","Installing collected packages: botocore\n","  Attempting uninstall: botocore\n","    Found existing installation: botocore 1.34.2\n","    Uninstalling botocore-1.34.2:\n","      Successfully uninstalled botocore-1.34.2\n","\u001b[31mERROR: pip's dependency resolver does not currently take into account all the packages that are installed. This behaviour is the source of the following dependency conflicts.\n","boto3 1.17.105 requires botocore<1.21.0,>=1.20.105, but you have botocore 1.33.13 which is incompatible.\u001b[0m\u001b[31m\n","\u001b[0mSuccessfully installed botocore-1.33.13\n"]},{"output_type":"display_data","data":{"application/vnd.colab-display-data+json":{"pip_warning":{"packages":["botocore"]}}},"metadata":{}},{"output_type":"stream","name":"stdout","text":["Requirement already satisfied: pyarrow in /usr/local/lib/python3.10/dist-packages (10.0.1)\n","Requirement already satisfied: numpy>=1.16.6 in /usr/local/lib/python3.10/dist-packages (from pyarrow) (1.23.5)\n"]}],"source":["!pip install boto3==1.17.105\n","!pip install botocore --upgrade\n","!pip install s3fs\n","!pip install pyarrow"]},{"cell_type":"code","execution_count":8,"metadata":{"executionInfo":{"elapsed":28,"status":"ok","timestamp":1702927764715,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"},"user_tz":180},"id":"K0uyfSIMnalz"},"outputs":[],"source":["import boto3\n","import pandas as pd\n","import numpy as np\n","import pyarrow.parquet as pq\n","from io import BytesIO\n","import pandas as pd\n","import matplotlib.pyplot as plt\n","import seaborn as sns\n","import pickle\n","import missingno as msno\n","from sklearn.model_selection import train_test_split\n","from sklearn.ensemble import GradientBoostingClassifier\n","from sklearn.ensemble import RandomForestClassifier\n","from sklearn.tree import DecisionTreeClassifier\n","from xgboost import XGBClassifier\n","import itertools\n","from sklearn.metrics import confusion_matrix, roc_curve, precision_recall_curve, roc_auc_score"]},{"cell_type":"code","execution_count":9,"metadata":{"executionInfo":{"elapsed":26,"status":"ok","timestamp":1702927764715,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"},"user_tz":180},"id":"W09cTehEneG3"},"outputs":[],"source":["s3 = boto3.resource(\n","    service_name='s3',\n","    region_name='us-east-1',\n","    aws_access_key_id='AKIAYTYOYG7SCH7IJSEG',\n","    aws_secret_access_key='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'\n",")"]},{"cell_type":"markdown","metadata":{"id":"DB5wC7k2ngf3"},"source":["#### **Informações ABT - Treino**"]},{"cell_type":"code","execution_count":10,"metadata":{"executionInfo":{"elapsed":25,"status":"ok","timestamp":1702927764716,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"},"user_tz":180},"id":"bEfHXjtlngQ5"},"outputs":[],"source":["# Nome do bucket\n","bucket_name_treino = 'pod-academy-analise-de-credito-para-fintech'\n","# Nome da pasta até o arquivo\n","object_key_treino = 'dados/application_train.csv'\n","\n","# ID\n","ID_treino = 'SK_ID_CURR'"]},{"cell_type":"markdown","metadata":{"id":"ATR4e7mvnidg"},"source":["#### **Informações ABT - Teste**"]},{"cell_type":"code","execution_count":11,"metadata":{"executionInfo":{"elapsed":24,"status":"ok","timestamp":1702927764716,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"},"user_tz":180},"id":"avfAc9CGnkL3"},"outputs":[],"source":["# Nome do bucket\n","bucket_name_teste = 'pod-academy-analise-de-credito-para-fintech'\n","# Nome da pasta até o arquivo\n","object_key_teste = 'dados/application_test.csv'\n","\n","# ID\n","ID_teste = 'SK_ID_CURR'"]},{"cell_type":"markdown","metadata":{"id":"teKRXizGnqu_"},"source":["### **Ler os dados originais (ABT)**"]},{"cell_type":"markdown","metadata":{"id":"xiAEiCS8ns1T"},"source":["#### **Dados de Treino**"]},{"cell_type":"code","execution_count":23,"metadata":{"executionInfo":{"elapsed":17730,"status":"ok","timestamp":1702928255607,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"},"user_tz":180},"id":"4cqsuhSOnuPy"},"outputs":[],"source":["# Load csv file directly into python\n","obj = s3.Bucket(bucket_name_treino).Object(object_key_treino).get()\n","abt_00 = pd.read_csv(obj['Body'])"]},{"cell_type":"code","execution_count":24,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":20,"status":"ok","timestamp":1702928255608,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"},"user_tz":180},"id":"UMGedGcXnvSz","outputId":"e94359b7-9f70-401a-8071-0376c7d18f47"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["(215257, 172)"]},"metadata":{},"execution_count":24}],"source":["abt_00.shape"]},{"cell_type":"code","execution_count":25,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":255},"executionInfo":{"elapsed":21,"status":"ok","timestamp":1702928255610,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"},"user_tz":180},"id":"ogltb3dlnwUY","outputId":"4143b456-9da1-4e18-86b1-ca5a15fa91bc"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["   SK_ID_CURR  TARGET NAME_CONTRACT_TYPE CODE_GENDER FLAG_OWN_CAR  \\\n","0      247330       0         Cash loans           F            N   \n","1      425716       1         Cash loans           F            Y   \n","2      331625       0         Cash loans           M            Y   \n","3      455397       0    Revolving loans           F            N   \n","4      449114       0         Cash loans           F            N   \n","\n","  FLAG_OWN_REALTY  CNT_CHILDREN  AMT_INCOME_TOTAL  AMT_CREDIT  AMT_ANNUITY  \\\n","0               N             0          157500.0    706410.0      67072.5   \n","1               Y             1          121500.0    545040.0      25407.0   \n","2               Y             1          225000.0    942300.0      27679.5   \n","3               Y             2          144000.0    180000.0       9000.0   \n","4               Y             0          112500.0    729792.0      37390.5   \n","\n","   ...    var_41    var_42    var_43    var_44    var_45    var_46    var_47  \\\n","0  ...  0.824762  0.333516  0.293260  0.564878  0.115058  0.655605  0.415562   \n","1  ...  0.416260  0.404293  0.137944  0.457971  0.303691  0.215059  0.838892   \n","2  ...  0.037711  0.124465  0.091840  0.364601  0.978220  0.520309  0.594523   \n","3  ...  0.784630  0.831403  0.210872  0.049639  0.814219  0.830179  0.755163   \n","4  ...  0.265381  0.655344  0.668705  0.171391  0.335702  0.585494  0.619551   \n","\n","     var_48    var_49    var_50  \n","0  0.092643  0.723331  0.796523  \n","1  0.608335  0.585643  0.298456  \n","2  0.559650  0.361873  0.254804  \n","3  0.216664  0.603002  0.429001  \n","4  0.686738  0.540449  0.343632  \n","\n","[5 rows x 172 columns]"],"text/html":["\n","  <div id=\"df-61e1e058-3229-4e06-9266-f7778f481069\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>SK_ID_CURR</th>\n","      <th>TARGET</th>\n","      <th>NAME_CONTRACT_TYPE</th>\n","      <th>CODE_GENDER</th>\n","      <th>FLAG_OWN_CAR</th>\n","      <th>FLAG_OWN_REALTY</th>\n","      <th>CNT_CHILDREN</th>\n","      <th>AMT_INCOME_TOTAL</th>\n","      <th>AMT_CREDIT</th>\n","      <th>AMT_ANNUITY</th>\n","      <th>...</th>\n","      <th>var_41</th>\n","      <th>var_42</th>\n","      <th>var_43</th>\n","      <th>var_44</th>\n","      <th>var_45</th>\n","      <th>var_46</th>\n","      <th>var_47</th>\n","      <th>var_48</th>\n","      <th>var_49</th>\n","      <th>var_50</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>247330</td>\n","      <td>0</td>\n","      <td>Cash loans</td>\n","      <td>F</td>\n","      <td>N</td>\n","      <td>N</td>\n","      <td>0</td>\n","      <td>157500.0</td>\n","      <td>706410.0</td>\n","      <td>67072.5</td>\n","      <td>...</td>\n","      <td>0.824762</td>\n","      <td>0.333516</td>\n","      <td>0.293260</td>\n","      <td>0.564878</td>\n","      <td>0.115058</td>\n","      <td>0.655605</td>\n","      <td>0.415562</td>\n","      <td>0.092643</td>\n","      <td>0.723331</td>\n","      <td>0.796523</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>425716</td>\n","      <td>1</td>\n","      <td>Cash loans</td>\n","      <td>F</td>\n","      <td>Y</td>\n","      <td>Y</td>\n","      <td>1</td>\n","      <td>121500.0</td>\n","      <td>545040.0</td>\n","      <td>25407.0</td>\n","      <td>...</td>\n","      <td>0.416260</td>\n","      <td>0.404293</td>\n","      <td>0.137944</td>\n","      <td>0.457971</td>\n","      <td>0.303691</td>\n","      <td>0.215059</td>\n","      <td>0.838892</td>\n","      <td>0.608335</td>\n","      <td>0.585643</td>\n","      <td>0.298456</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>331625</td>\n","      <td>0</td>\n","      <td>Cash loans</td>\n","      <td>M</td>\n","      <td>Y</td>\n","      <td>Y</td>\n","      <td>1</td>\n","      <td>225000.0</td>\n","      <td>942300.0</td>\n","      <td>27679.5</td>\n","      <td>...</td>\n","      <td>0.037711</td>\n","      <td>0.124465</td>\n","      <td>0.091840</td>\n","      <td>0.364601</td>\n","      <td>0.978220</td>\n","      <td>0.520309</td>\n","      <td>0.594523</td>\n","      <td>0.559650</td>\n","      <td>0.361873</td>\n","      <td>0.254804</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>455397</td>\n","      <td>0</td>\n","      <td>Revolving loans</td>\n","      <td>F</td>\n","      <td>N</td>\n","      <td>Y</td>\n","      <td>2</td>\n","      <td>144000.0</td>\n","      <td>180000.0</td>\n","      <td>9000.0</td>\n","      <td>...</td>\n","      <td>0.784630</td>\n","      <td>0.831403</td>\n","      <td>0.210872</td>\n","      <td>0.049639</td>\n","      <td>0.814219</td>\n","      <td>0.830179</td>\n","      <td>0.755163</td>\n","      <td>0.216664</td>\n","      <td>0.603002</td>\n","      <td>0.429001</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>449114</td>\n","      <td>0</td>\n","      <td>Cash loans</td>\n","      <td>F</td>\n","      <td>N</td>\n","      <td>Y</td>\n","      <td>0</td>\n","      <td>112500.0</td>\n","      <td>729792.0</td>\n","      <td>37390.5</td>\n","      <td>...</td>\n","      <td>0.265381</td>\n","      <td>0.655344</td>\n","      <td>0.668705</td>\n","      <td>0.171391</td>\n","      <td>0.335702</td>\n","      <td>0.585494</td>\n","      <td>0.619551</td>\n","      <td>0.686738</td>\n","      <td>0.540449</td>\n","      <td>0.343632</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>5 rows × 172 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-61e1e058-3229-4e06-9266-f7778f481069')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-61e1e058-3229-4e06-9266-f7778f481069 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-61e1e058-3229-4e06-9266-f7778f481069');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-0dc07609-2a84-44cf-b082-9721ed14e74f\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-0dc07609-2a84-44cf-b082-9721ed14e74f')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-0dc07609-2a84-44cf-b082-9721ed14e74f button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":25}],"source":["abt_00.head()"]},{"cell_type":"markdown","metadata":{"id":"wZdKiOdwnzKQ"},"source":["#### **Dados de Teste**"]},{"cell_type":"code","execution_count":26,"metadata":{"executionInfo":{"elapsed":5796,"status":"ok","timestamp":1702928261387,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"},"user_tz":180},"id":"6tD9FRY0n1Hp"},"outputs":[],"source":["# Load csv file directly into python\n","obj = s3.Bucket(bucket_name_teste).Object(object_key_teste).get()\n","df_test = pd.read_csv(obj['Body'])"]},{"cell_type":"code","execution_count":27,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"executionInfo":{"elapsed":30,"status":"ok","timestamp":1702928261388,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"},"user_tz":180},"id":"5fBiL35Rn2Rw","outputId":"a9f5baa7-d2f8-4da6-a166-031ad31b7afa"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["(92254, 171)"]},"metadata":{},"execution_count":27}],"source":["df_test.shape"]},{"cell_type":"code","execution_count":28,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":255},"executionInfo":{"elapsed":28,"status":"ok","timestamp":1702928261389,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"},"user_tz":180},"id":"4v2lHgKon3Xo","outputId":"ce4f7a03-3685-4fde-f1b6-98a517cea84f"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["   SK_ID_CURR NAME_CONTRACT_TYPE CODE_GENDER FLAG_OWN_CAR FLAG_OWN_REALTY  \\\n","0      384575         Cash loans           M            Y               N   \n","1      214010         Cash loans           F            Y               Y   \n","2      142232         Cash loans           F            Y               N   \n","3      389171         Cash loans           F            N               Y   \n","4      283617         Cash loans           M            N               Y   \n","\n","   CNT_CHILDREN  AMT_INCOME_TOTAL  AMT_CREDIT  AMT_ANNUITY  AMT_GOODS_PRICE  \\\n","0             2          207000.0    465457.5      52641.0         418500.0   \n","1             0          247500.0   1281712.5      48946.5        1179000.0   \n","2             0          202500.0    495000.0      39109.5         495000.0   \n","3             0          247500.0    254700.0      24939.0         225000.0   \n","4             0          112500.0    308133.0      15862.5         234000.0   \n","\n","   ...    var_41    var_42    var_43    var_44    var_45    var_46    var_47  \\\n","0  ...  0.633686  0.664401  0.087885  0.350320  0.247838  0.700314  0.709003   \n","1  ...  0.249826  0.569889  0.161183  0.932276  0.720287  0.251879  0.439528   \n","2  ...  0.081305  0.025186  0.391566  0.737325  0.090995  0.327031  0.787739   \n","3  ...  0.062781  0.129004  0.054182  0.084110  0.619411  0.115114  0.314785   \n","4  ...  0.730765  0.292157  0.155718  0.276252  0.666383  0.140511  0.598934   \n","\n","     var_48    var_49    var_50  \n","0  0.625105  0.847218  0.445958  \n","1  0.269992  0.547486  0.657934  \n","2  0.820345  0.523118  0.339553  \n","3  0.659989  0.864239  0.315243  \n","4  0.631357  0.412754  0.628068  \n","\n","[5 rows x 171 columns]"],"text/html":["\n","  <div id=\"df-b23fcd3c-085b-4af1-9b0b-e83b8267e6b8\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>SK_ID_CURR</th>\n","      <th>NAME_CONTRACT_TYPE</th>\n","      <th>CODE_GENDER</th>\n","      <th>FLAG_OWN_CAR</th>\n","      <th>FLAG_OWN_REALTY</th>\n","      <th>CNT_CHILDREN</th>\n","      <th>AMT_INCOME_TOTAL</th>\n","      <th>AMT_CREDIT</th>\n","      <th>AMT_ANNUITY</th>\n","      <th>AMT_GOODS_PRICE</th>\n","      <th>...</th>\n","      <th>var_41</th>\n","      <th>var_42</th>\n","      <th>var_43</th>\n","      <th>var_44</th>\n","      <th>var_45</th>\n","      <th>var_46</th>\n","      <th>var_47</th>\n","      <th>var_48</th>\n","      <th>var_49</th>\n","      <th>var_50</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>384575</td>\n","      <td>Cash loans</td>\n","      <td>M</td>\n","      <td>Y</td>\n","      <td>N</td>\n","      <td>2</td>\n","      <td>207000.0</td>\n","      <td>465457.5</td>\n","      <td>52641.0</td>\n","      <td>418500.0</td>\n","      <td>...</td>\n","      <td>0.633686</td>\n","      <td>0.664401</td>\n","      <td>0.087885</td>\n","      <td>0.350320</td>\n","      <td>0.247838</td>\n","      <td>0.700314</td>\n","      <td>0.709003</td>\n","      <td>0.625105</td>\n","      <td>0.847218</td>\n","      <td>0.445958</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>214010</td>\n","      <td>Cash loans</td>\n","      <td>F</td>\n","      <td>Y</td>\n","      <td>Y</td>\n","      <td>0</td>\n","      <td>247500.0</td>\n","      <td>1281712.5</td>\n","      <td>48946.5</td>\n","      <td>1179000.0</td>\n","      <td>...</td>\n","      <td>0.249826</td>\n","      <td>0.569889</td>\n","      <td>0.161183</td>\n","      <td>0.932276</td>\n","      <td>0.720287</td>\n","      <td>0.251879</td>\n","      <td>0.439528</td>\n","      <td>0.269992</td>\n","      <td>0.547486</td>\n","      <td>0.657934</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>142232</td>\n","      <td>Cash loans</td>\n","      <td>F</td>\n","      <td>Y</td>\n","      <td>N</td>\n","      <td>0</td>\n","      <td>202500.0</td>\n","      <td>495000.0</td>\n","      <td>39109.5</td>\n","      <td>495000.0</td>\n","      <td>...</td>\n","      <td>0.081305</td>\n","      <td>0.025186</td>\n","      <td>0.391566</td>\n","      <td>0.737325</td>\n","      <td>0.090995</td>\n","      <td>0.327031</td>\n","      <td>0.787739</td>\n","      <td>0.820345</td>\n","      <td>0.523118</td>\n","      <td>0.339553</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>389171</td>\n","      <td>Cash loans</td>\n","      <td>F</td>\n","      <td>N</td>\n","      <td>Y</td>\n","      <td>0</td>\n","      <td>247500.0</td>\n","      <td>254700.0</td>\n","      <td>24939.0</td>\n","      <td>225000.0</td>\n","      <td>...</td>\n","      <td>0.062781</td>\n","      <td>0.129004</td>\n","      <td>0.054182</td>\n","      <td>0.084110</td>\n","      <td>0.619411</td>\n","      <td>0.115114</td>\n","      <td>0.314785</td>\n","      <td>0.659989</td>\n","      <td>0.864239</td>\n","      <td>0.315243</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>283617</td>\n","      <td>Cash loans</td>\n","      <td>M</td>\n","      <td>N</td>\n","      <td>Y</td>\n","      <td>0</td>\n","      <td>112500.0</td>\n","      <td>308133.0</td>\n","      <td>15862.5</td>\n","      <td>234000.0</td>\n","      <td>...</td>\n","      <td>0.730765</td>\n","      <td>0.292157</td>\n","      <td>0.155718</td>\n","      <td>0.276252</td>\n","      <td>0.666383</td>\n","      <td>0.140511</td>\n","      <td>0.598934</td>\n","      <td>0.631357</td>\n","      <td>0.412754</td>\n","      <td>0.628068</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>5 rows × 171 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-b23fcd3c-085b-4af1-9b0b-e83b8267e6b8')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-b23fcd3c-085b-4af1-9b0b-e83b8267e6b8 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-b23fcd3c-085b-4af1-9b0b-e83b8267e6b8');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-f3d8d419-e06e-4939-aa16-d6ada83e22e6\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-f3d8d419-e06e-4939-aa16-d6ada83e22e6')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-f3d8d419-e06e-4939-aa16-d6ada83e22e6 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":28}],"source":["df_test.head()"]},{"cell_type":"markdown","source":["#### Verificar estatísticas básicas das variáveis"],"metadata":{"id":"tMweZaAPaY5I"}},{"cell_type":"code","source":["abt_00.describe()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":349},"id":"K7i5kBocaZsh","executionInfo":{"status":"ok","timestamp":1702928264160,"user_tz":180,"elapsed":2796,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"}},"outputId":"435037f2-e6b7-4731-961e-334b948b4ba2"},"execution_count":29,"outputs":[{"output_type":"execute_result","data":{"text/plain":["          SK_ID_CURR         TARGET   CNT_CHILDREN  AMT_INCOME_TOTAL  \\\n","count  215257.000000  215257.000000  215257.000000      2.152570e+05   \n","mean   278236.387137       0.080889       0.416637      1.685568e+05   \n","std    102885.029589       0.272666       0.719695      1.058557e+05   \n","min    100003.000000       0.000000       0.000000      2.565000e+04   \n","25%    189025.000000       0.000000       0.000000      1.125000e+05   \n","50%    278215.000000       0.000000       0.000000      1.440000e+05   \n","75%    367388.000000       0.000000       1.000000      2.025000e+05   \n","max    456255.000000       1.000000      19.000000      1.350000e+07   \n","\n","         AMT_CREDIT    AMT_ANNUITY  AMT_GOODS_PRICE  \\\n","count  2.152570e+05  215249.000000     2.150580e+05   \n","mean   5.994960e+05   27119.681762     5.388269e+05   \n","std    4.028989e+05   14522.021876     3.698161e+05   \n","min    4.500000e+04    1615.500000     4.050000e+04   \n","25%    2.700000e+05   16506.000000     2.385000e+05   \n","50%    5.148675e+05   24903.000000     4.500000e+05   \n","75%    8.086500e+05   34650.000000     6.795000e+05   \n","max    4.050000e+06  258025.500000     4.050000e+06   \n","\n","       REGION_POPULATION_RELATIVE     DAYS_BIRTH  DAYS_EMPLOYED  ...  \\\n","count               215257.000000  215257.000000  215257.000000  ...   \n","mean                     0.020869  -16033.152241   63737.365791  ...   \n","std                      0.013829    4361.858115  141210.765298  ...   \n","min                      0.000290  -25229.000000  -17912.000000  ...   \n","25%                      0.010006  -19681.000000   -2760.000000  ...   \n","50%                      0.018850  -15749.000000   -1214.000000  ...   \n","75%                      0.028663  -12410.000000    -290.000000  ...   \n","max                      0.072508   -7489.000000  365243.000000  ...   \n","\n","             var_41         var_42         var_43         var_44  \\\n","count  2.152570e+05  215257.000000  215257.000000  215257.000000   \n","mean   5.000397e-01       0.500387       0.499759       0.499714   \n","std    2.886308e-01       0.288874       0.288854       0.288689   \n","min    4.701627e-08       0.000002       0.000010       0.000005   \n","25%    2.503571e-01       0.249831       0.249154       0.250009   \n","50%    4.999917e-01       0.500096       0.500020       0.500167   \n","75%    7.496017e-01       0.750930       0.749430       0.749317   \n","max    9.999890e-01       0.999994       0.999988       0.999998   \n","\n","              var_45         var_46         var_47         var_48  \\\n","count  215257.000000  215257.000000  215257.000000  215257.000000   \n","mean        0.500411       0.500602       0.499781       0.500618   \n","std         0.288678       0.288052       0.288411       0.288286   \n","min         0.000016       0.000004       0.000008       0.000010   \n","25%         0.250346       0.251720       0.249971       0.250336   \n","50%         0.500267       0.500931       0.499138       0.502229   \n","75%         0.750656       0.750341       0.749475       0.749817   \n","max         0.999997       0.999981       0.999997       0.999994   \n","\n","              var_49         var_50  \n","count  215257.000000  215257.000000  \n","mean        0.499476       0.499538  \n","std         0.288685       0.288505  \n","min         0.000017       0.000006  \n","25%         0.248878       0.249740  \n","50%         0.499258       0.499035  \n","75%         0.749368       0.748715  \n","max         0.999975       0.999997  \n","\n","[8 rows x 156 columns]"],"text/html":["\n","  <div id=\"df-0fc77093-0f7e-41eb-b21d-e6338da18a81\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>SK_ID_CURR</th>\n","      <th>TARGET</th>\n","      <th>CNT_CHILDREN</th>\n","      <th>AMT_INCOME_TOTAL</th>\n","      <th>AMT_CREDIT</th>\n","      <th>AMT_ANNUITY</th>\n","      <th>AMT_GOODS_PRICE</th>\n","      <th>REGION_POPULATION_RELATIVE</th>\n","      <th>DAYS_BIRTH</th>\n","      <th>DAYS_EMPLOYED</th>\n","      <th>...</th>\n","      <th>var_41</th>\n","      <th>var_42</th>\n","      <th>var_43</th>\n","      <th>var_44</th>\n","      <th>var_45</th>\n","      <th>var_46</th>\n","      <th>var_47</th>\n","      <th>var_48</th>\n","      <th>var_49</th>\n","      <th>var_50</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>count</th>\n","      <td>215257.000000</td>\n","      <td>215257.000000</td>\n","      <td>215257.000000</td>\n","      <td>2.152570e+05</td>\n","      <td>2.152570e+05</td>\n","      <td>215249.000000</td>\n","      <td>2.150580e+05</td>\n","      <td>215257.000000</td>\n","      <td>215257.000000</td>\n","      <td>215257.000000</td>\n","      <td>...</td>\n","      <td>2.152570e+05</td>\n","      <td>215257.000000</td>\n","      <td>215257.000000</td>\n","      <td>215257.000000</td>\n","      <td>215257.000000</td>\n","      <td>215257.000000</td>\n","      <td>215257.000000</td>\n","      <td>215257.000000</td>\n","      <td>215257.000000</td>\n","      <td>215257.000000</td>\n","    </tr>\n","    <tr>\n","      <th>mean</th>\n","      <td>278236.387137</td>\n","      <td>0.080889</td>\n","      <td>0.416637</td>\n","      <td>1.685568e+05</td>\n","      <td>5.994960e+05</td>\n","      <td>27119.681762</td>\n","      <td>5.388269e+05</td>\n","      <td>0.020869</td>\n","      <td>-16033.152241</td>\n","      <td>63737.365791</td>\n","      <td>...</td>\n","      <td>5.000397e-01</td>\n","      <td>0.500387</td>\n","      <td>0.499759</td>\n","      <td>0.499714</td>\n","      <td>0.500411</td>\n","      <td>0.500602</td>\n","      <td>0.499781</td>\n","      <td>0.500618</td>\n","      <td>0.499476</td>\n","      <td>0.499538</td>\n","    </tr>\n","    <tr>\n","      <th>std</th>\n","      <td>102885.029589</td>\n","      <td>0.272666</td>\n","      <td>0.719695</td>\n","      <td>1.058557e+05</td>\n","      <td>4.028989e+05</td>\n","      <td>14522.021876</td>\n","      <td>3.698161e+05</td>\n","      <td>0.013829</td>\n","      <td>4361.858115</td>\n","      <td>141210.765298</td>\n","      <td>...</td>\n","      <td>2.886308e-01</td>\n","      <td>0.288874</td>\n","      <td>0.288854</td>\n","      <td>0.288689</td>\n","      <td>0.288678</td>\n","      <td>0.288052</td>\n","      <td>0.288411</td>\n","      <td>0.288286</td>\n","      <td>0.288685</td>\n","      <td>0.288505</td>\n","    </tr>\n","    <tr>\n","      <th>min</th>\n","      <td>100003.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>2.565000e+04</td>\n","      <td>4.500000e+04</td>\n","      <td>1615.500000</td>\n","      <td>4.050000e+04</td>\n","      <td>0.000290</td>\n","      <td>-25229.000000</td>\n","      <td>-17912.000000</td>\n","      <td>...</td>\n","      <td>4.701627e-08</td>\n","      <td>0.000002</td>\n","      <td>0.000010</td>\n","      <td>0.000005</td>\n","      <td>0.000016</td>\n","      <td>0.000004</td>\n","      <td>0.000008</td>\n","      <td>0.000010</td>\n","      <td>0.000017</td>\n","      <td>0.000006</td>\n","    </tr>\n","    <tr>\n","      <th>25%</th>\n","      <td>189025.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>1.125000e+05</td>\n","      <td>2.700000e+05</td>\n","      <td>16506.000000</td>\n","      <td>2.385000e+05</td>\n","      <td>0.010006</td>\n","      <td>-19681.000000</td>\n","      <td>-2760.000000</td>\n","      <td>...</td>\n","      <td>2.503571e-01</td>\n","      <td>0.249831</td>\n","      <td>0.249154</td>\n","      <td>0.250009</td>\n","      <td>0.250346</td>\n","      <td>0.251720</td>\n","      <td>0.249971</td>\n","      <td>0.250336</td>\n","      <td>0.248878</td>\n","      <td>0.249740</td>\n","    </tr>\n","    <tr>\n","      <th>50%</th>\n","      <td>278215.000000</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","      <td>1.440000e+05</td>\n","      <td>5.148675e+05</td>\n","      <td>24903.000000</td>\n","      <td>4.500000e+05</td>\n","      <td>0.018850</td>\n","      <td>-15749.000000</td>\n","      <td>-1214.000000</td>\n","      <td>...</td>\n","      <td>4.999917e-01</td>\n","      <td>0.500096</td>\n","      <td>0.500020</td>\n","      <td>0.500167</td>\n","      <td>0.500267</td>\n","      <td>0.500931</td>\n","      <td>0.499138</td>\n","      <td>0.502229</td>\n","      <td>0.499258</td>\n","      <td>0.499035</td>\n","    </tr>\n","    <tr>\n","      <th>75%</th>\n","      <td>367388.000000</td>\n","      <td>0.000000</td>\n","      <td>1.000000</td>\n","      <td>2.025000e+05</td>\n","      <td>8.086500e+05</td>\n","      <td>34650.000000</td>\n","      <td>6.795000e+05</td>\n","      <td>0.028663</td>\n","      <td>-12410.000000</td>\n","      <td>-290.000000</td>\n","      <td>...</td>\n","      <td>7.496017e-01</td>\n","      <td>0.750930</td>\n","      <td>0.749430</td>\n","      <td>0.749317</td>\n","      <td>0.750656</td>\n","      <td>0.750341</td>\n","      <td>0.749475</td>\n","      <td>0.749817</td>\n","      <td>0.749368</td>\n","      <td>0.748715</td>\n","    </tr>\n","    <tr>\n","      <th>max</th>\n","      <td>456255.000000</td>\n","      <td>1.000000</td>\n","      <td>19.000000</td>\n","      <td>1.350000e+07</td>\n","      <td>4.050000e+06</td>\n","      <td>258025.500000</td>\n","      <td>4.050000e+06</td>\n","      <td>0.072508</td>\n","      <td>-7489.000000</td>\n","      <td>365243.000000</td>\n","      <td>...</td>\n","      <td>9.999890e-01</td>\n","      <td>0.999994</td>\n","      <td>0.999988</td>\n","      <td>0.999998</td>\n","      <td>0.999997</td>\n","      <td>0.999981</td>\n","      <td>0.999997</td>\n","      <td>0.999994</td>\n","      <td>0.999975</td>\n","      <td>0.999997</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>8 rows × 156 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-0fc77093-0f7e-41eb-b21d-e6338da18a81')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-0fc77093-0f7e-41eb-b21d-e6338da18a81 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-0fc77093-0f7e-41eb-b21d-e6338da18a81');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-cb525820-d3aa-4100-9ec2-10188085ae95\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-cb525820-d3aa-4100-9ec2-10188085ae95')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-cb525820-d3aa-4100-9ec2-10188085ae95 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":29}]},{"cell_type":"code","source":["# Converta a coluna PK_DATREF para o formato AAAAMM\n","abt_00['NAME_CONTRACT_TYPE'] = abt_00['NAME_CONTRACT_TYPE'].astype(str)\n","\n","# Calcule a média do TARGET_60_6 e o volume por AAAAMM\n","resultado = abt_00.groupby('NAME_CONTRACT_TYPE').agg({'TARGET': 'mean', 'NAME_CONTRACT_TYPE': 'count'}).rename(columns={'NAME_CONTRACT_TYPE': 'Volume'}).reset_index()\n","resultado.columns = ['NAME_CONTRACT_TYPE', 'Taxa_de_Evento', 'Volume']\n","\n","# Exiba a tabela\n","resultado"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":125},"id":"jeREJalGaxVs","executionInfo":{"status":"ok","timestamp":1702928264417,"user_tz":180,"elapsed":9,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"}},"outputId":"3bf72b3b-2cd7-4e13-9f44-1a556da2821c"},"execution_count":30,"outputs":[{"output_type":"execute_result","data":{"text/plain":["  NAME_CONTRACT_TYPE  Taxa_de_Evento  Volume\n","0         Cash loans        0.083693  194663\n","1    Revolving loans        0.054385   20594"],"text/html":["\n","  <div id=\"df-2a8ccf03-02fb-4308-909e-6f9a7ab718a8\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>NAME_CONTRACT_TYPE</th>\n","      <th>Taxa_de_Evento</th>\n","      <th>Volume</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>Cash loans</td>\n","      <td>0.083693</td>\n","      <td>194663</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>Revolving loans</td>\n","      <td>0.054385</td>\n","      <td>20594</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-2a8ccf03-02fb-4308-909e-6f9a7ab718a8')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-2a8ccf03-02fb-4308-909e-6f9a7ab718a8 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-2a8ccf03-02fb-4308-909e-6f9a7ab718a8');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-704bfee2-e126-463b-9eb6-d9bccea214d0\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-704bfee2-e126-463b-9eb6-d9bccea214d0')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-704bfee2-e126-463b-9eb6-d9bccea214d0 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","  <div id=\"id_b682d226-3fec-4c46-888f-7b2fea699aac\">\n","    <style>\n","      .colab-df-generate {\n","        background-color: #E8F0FE;\n","        border: none;\n","        border-radius: 50%;\n","        cursor: pointer;\n","        display: none;\n","        fill: #1967D2;\n","        height: 32px;\n","        padding: 0 0 0 0;\n","        width: 32px;\n","      }\n","\n","      .colab-df-generate:hover {\n","        background-color: #E2EBFA;\n","        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","        fill: #174EA6;\n","      }\n","\n","      [theme=dark] .colab-df-generate {\n","        background-color: #3B4455;\n","        fill: #D2E3FC;\n","      }\n","\n","      [theme=dark] .colab-df-generate:hover {\n","        background-color: #434B5C;\n","        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","        fill: #FFFFFF;\n","      }\n","    </style>\n","    <button class=\"colab-df-generate\" onclick=\"generateWithVariable('resultado')\"\n","            title=\"Generate code using this dataframe.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z\"/>\n","  </svg>\n","    </button>\n","    <script>\n","      (() => {\n","      const buttonEl =\n","        document.querySelector('#id_b682d226-3fec-4c46-888f-7b2fea699aac button.colab-df-generate');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      buttonEl.onclick = () => {\n","        google.colab.notebook.generateWithVariable('resultado');\n","      }\n","      })();\n","    </script>\n","  </div>\n","\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":30}]},{"cell_type":"code","source":["# df_tx_evento = pod.plot_tx_event_volume_safra(abt_00,\n","#                                               target='TARGET_60_6',\n","#                                               safra='PK_DATREF',\n","#                                               ymax_volume=20000, ymax_taxa_evento=20)"],"metadata":{"id":"v8vhEf7nbkXU"},"execution_count":null,"outputs":[]},{"cell_type":"code","execution_count":18,"metadata":{"executionInfo":{"elapsed":880,"status":"ok","timestamp":1702927875083,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"},"user_tz":180},"id":"vbPjE6QwpN88","colab":{"base_uri":"https://localhost:8080/"},"outputId":"1af42a55-cc24-4103-96b8-d4d92de4f7cc"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["((150679, 172), (64578, 172))"]},"metadata":{},"execution_count":18}],"source":["# Suponha que você queira separar 70% dos dados para treino e 30% para validação\n","abt_treino, abt_teste = train_test_split(abt_00, test_size=0.3, random_state=42)\n","abt_treino.shape,abt_teste.shape"]},{"cell_type":"code","source":["# # Calcule a média do TARGET_60_6 e o volume por AAAAMM\n","# resultado = abt_treino.groupby('PK_DATREF').agg({'TARGET_60_6': 'mean', 'PK_DATREF': 'count'}).rename(columns={'PK_DATREF': 'Volume'}).reset_index()\n","# resultado.columns = ['Safra (AAAAMM)', 'Taxa_de_Evento', 'Volume']\n","\n","# # Exiba a tabela\n","# resultado\n","\n","abt_treino['TARGET'].describe()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"oCndKKY7aTZT","executionInfo":{"status":"ok","timestamp":1702928416713,"user_tz":180,"elapsed":247,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"}},"outputId":"2db1a67a-1e41-4f83-fd51-0a99391a6584"},"execution_count":31,"outputs":[{"output_type":"execute_result","data":{"text/plain":["count    150679.000000\n","mean          0.080575\n","std           0.272183\n","min           0.000000\n","25%           0.000000\n","50%           0.000000\n","75%           0.000000\n","max           1.000000\n","Name: TARGET, dtype: float64"]},"metadata":{},"execution_count":31}]},{"cell_type":"code","source":["# # Calcule a média do TARGET_60_6 e o volume por AAAAMM\n","# resultado = abt_teste.groupby('PK_DATREF').agg({'TARGET_60_6': 'mean', 'PK_DATREF': 'count'}).rename(columns={'PK_DATREF': 'Volume'}).reset_index()\n","# resultado.columns = ['Safra (AAAAMM)', 'Taxa_de_Evento', 'Volume']\n","\n","# # Exiba a tabela\n","# resultado\n","\n","abt_teste['TARGET'].describe()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"Ti1iXWe1cY6V","executionInfo":{"status":"ok","timestamp":1702928448916,"user_tz":180,"elapsed":229,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"}},"outputId":"55091e0a-7b09-499d-ec6d-78d388826446"},"execution_count":33,"outputs":[{"output_type":"execute_result","data":{"text/plain":["count    64578.000000\n","mean         0.081622\n","std          0.273790\n","min          0.000000\n","25%          0.000000\n","50%          0.000000\n","75%          0.000000\n","max          1.000000\n","Name: TARGET, dtype: float64"]},"metadata":{},"execution_count":33}]},{"cell_type":"markdown","source":["# Preparação dos Dados\n","- Tratamento dos valores nulos (missings)\n","- Padronização dos Dados (zscore)"],"metadata":{"id":"Xg5QEMzEcmpJ"}},{"cell_type":"code","source":["def pod_academy_generate_metadata(df, ids, targets, orderby = 'PC_NULOS'):\n","    import pandas as pd\n","    \"\"\"\n","    Esta função retorna uma tabela com informações descritivas sobre um DataFrame.\n","\n","    Parâmetros:\n","    - df: DataFrame que você quer descrever.\n","    - ids: Lista de colunas que são identificadores.\n","    - targets: Lista de colunas que são variáveis alvo.\n","\n","    Retorna:\n","    Um DataFrame com informações sobre o df original.\n","    \"\"\"\n","\n","    summary = pd.DataFrame({\n","        'USO_FEATURE': ['ID' if col in ids else 'Target' if col in targets else 'Explicativa' for col in df.columns],\n","        'QT_NULOS': df.isnull().sum(),\n","        'PC_NULOS': round((df.isnull().sum() / len(df))* 100,2),\n","        'CARDINALIDADE': df.nunique(),\n","        'TIPO_FEATURE': df.dtypes\n","    })\n","\n","    summary_sorted = summary.sort_values(by=orderby, ascending=False)\n","    summary_sorted = summary_sorted.reset_index()\n","    # Renomeando a coluna 'index' para 'FEATURES'\n","    summary_sorted = summary_sorted.rename(columns={'index': 'FEATURE'})\n","    return summary_sorted"],"metadata":{"id":"tU5D68Gucqh-","executionInfo":{"status":"ok","timestamp":1702928494795,"user_tz":180,"elapsed":227,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"}}},"execution_count":34,"outputs":[]},{"cell_type":"code","source":["metadados = pod_academy_generate_metadata(abt_treino,\n","                                          ids=[ID_treino],\n","                                          targets=['TARGET'],\n","                                          orderby = 'PC_NULOS')\n","\n","metadados"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":443},"id":"W9IbUlnwcm_D","executionInfo":{"status":"ok","timestamp":1702928538012,"user_tz":180,"elapsed":2410,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"}},"outputId":"93e690f2-fe8e-4c21-c9e5-082e3fb580f3"},"execution_count":35,"outputs":[{"output_type":"execute_result","data":{"text/plain":["                         FEATURE  USO_FEATURE  QT_NULOS  PC_NULOS  \\\n","0                COMMONAREA_MODE  Explicativa    105323     69.90   \n","1                 COMMONAREA_AVG  Explicativa    105323     69.90   \n","2                COMMONAREA_MEDI  Explicativa    105323     69.90   \n","3        NONLIVINGAPARTMENTS_AVG  Explicativa    104662     69.46   \n","4       NONLIVINGAPARTMENTS_MEDI  Explicativa    104662     69.46   \n","..                           ...          ...       ...       ...   \n","167       REG_CITY_NOT_WORK_CITY  Explicativa         0      0.00   \n","168       REG_CITY_NOT_LIVE_CITY  Explicativa         0      0.00   \n","169  LIVE_REGION_NOT_WORK_REGION  Explicativa         0      0.00   \n","170   REG_REGION_NOT_WORK_REGION  Explicativa         0      0.00   \n","171                       var_50  Explicativa         0      0.00   \n","\n","     CARDINALIDADE TIPO_FEATURE  \n","0             2681      float64  \n","1             2721      float64  \n","2             2741      float64  \n","3              321      float64  \n","4              178      float64  \n","..             ...          ...  \n","167              2        int64  \n","168              2        int64  \n","169              2        int64  \n","170              2        int64  \n","171         150679      float64  \n","\n","[172 rows x 6 columns]"],"text/html":["\n","  <div id=\"df-120f720c-447e-491f-b68b-a228da46ac03\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>FEATURE</th>\n","      <th>USO_FEATURE</th>\n","      <th>QT_NULOS</th>\n","      <th>PC_NULOS</th>\n","      <th>CARDINALIDADE</th>\n","      <th>TIPO_FEATURE</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>COMMONAREA_MODE</td>\n","      <td>Explicativa</td>\n","      <td>105323</td>\n","      <td>69.90</td>\n","      <td>2681</td>\n","      <td>float64</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>COMMONAREA_AVG</td>\n","      <td>Explicativa</td>\n","      <td>105323</td>\n","      <td>69.90</td>\n","      <td>2721</td>\n","      <td>float64</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>COMMONAREA_MEDI</td>\n","      <td>Explicativa</td>\n","      <td>105323</td>\n","      <td>69.90</td>\n","      <td>2741</td>\n","      <td>float64</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>NONLIVINGAPARTMENTS_AVG</td>\n","      <td>Explicativa</td>\n","      <td>104662</td>\n","      <td>69.46</td>\n","      <td>321</td>\n","      <td>float64</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>NONLIVINGAPARTMENTS_MEDI</td>\n","      <td>Explicativa</td>\n","      <td>104662</td>\n","      <td>69.46</td>\n","      <td>178</td>\n","      <td>float64</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>167</th>\n","      <td>REG_CITY_NOT_WORK_CITY</td>\n","      <td>Explicativa</td>\n","      <td>0</td>\n","      <td>0.00</td>\n","      <td>2</td>\n","      <td>int64</td>\n","    </tr>\n","    <tr>\n","      <th>168</th>\n","      <td>REG_CITY_NOT_LIVE_CITY</td>\n","      <td>Explicativa</td>\n","      <td>0</td>\n","      <td>0.00</td>\n","      <td>2</td>\n","      <td>int64</td>\n","    </tr>\n","    <tr>\n","      <th>169</th>\n","      <td>LIVE_REGION_NOT_WORK_REGION</td>\n","      <td>Explicativa</td>\n","      <td>0</td>\n","      <td>0.00</td>\n","      <td>2</td>\n","      <td>int64</td>\n","    </tr>\n","    <tr>\n","      <th>170</th>\n","      <td>REG_REGION_NOT_WORK_REGION</td>\n","      <td>Explicativa</td>\n","      <td>0</td>\n","      <td>0.00</td>\n","      <td>2</td>\n","      <td>int64</td>\n","    </tr>\n","    <tr>\n","      <th>171</th>\n","      <td>var_50</td>\n","      <td>Explicativa</td>\n","      <td>0</td>\n","      <td>0.00</td>\n","      <td>150679</td>\n","      <td>float64</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>172 rows × 6 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-120f720c-447e-491f-b68b-a228da46ac03')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-120f720c-447e-491f-b68b-a228da46ac03 button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-120f720c-447e-491f-b68b-a228da46ac03');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-b6f7a4bd-620b-45c2-9ce7-5b3274da2da3\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-b6f7a4bd-620b-45c2-9ce7-5b3274da2da3')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-b6f7a4bd-620b-45c2-9ce7-5b3274da2da3 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","  <div id=\"id_d5b1a19b-def6-428f-a837-11fcf652343e\">\n","    <style>\n","      .colab-df-generate {\n","        background-color: #E8F0FE;\n","        border: none;\n","        border-radius: 50%;\n","        cursor: pointer;\n","        display: none;\n","        fill: #1967D2;\n","        height: 32px;\n","        padding: 0 0 0 0;\n","        width: 32px;\n","      }\n","\n","      .colab-df-generate:hover {\n","        background-color: #E2EBFA;\n","        box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","        fill: #174EA6;\n","      }\n","\n","      [theme=dark] .colab-df-generate {\n","        background-color: #3B4455;\n","        fill: #D2E3FC;\n","      }\n","\n","      [theme=dark] .colab-df-generate:hover {\n","        background-color: #434B5C;\n","        box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","        filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","        fill: #FFFFFF;\n","      }\n","    </style>\n","    <button class=\"colab-df-generate\" onclick=\"generateWithVariable('metadados')\"\n","            title=\"Generate code using this dataframe.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M7,19H8.4L18.45,9,17,7.55,7,17.6ZM5,21V16.75L18.45,3.32a2,2,0,0,1,2.83,0l1.4,1.43a1.91,1.91,0,0,1,.58,1.4,1.91,1.91,0,0,1-.58,1.4L9.25,21ZM18.45,9,17,7.55Zm-12,3A5.31,5.31,0,0,0,4.9,8.1,5.31,5.31,0,0,0,1,6.5,5.31,5.31,0,0,0,4.9,4.9,5.31,5.31,0,0,0,6.5,1,5.31,5.31,0,0,0,8.1,4.9,5.31,5.31,0,0,0,12,6.5,5.46,5.46,0,0,0,6.5,12Z\"/>\n","  </svg>\n","    </button>\n","    <script>\n","      (() => {\n","      const buttonEl =\n","        document.querySelector('#id_d5b1a19b-def6-428f-a837-11fcf652343e button.colab-df-generate');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      buttonEl.onclick = () => {\n","        google.colab.notebook.generateWithVariable('metadados');\n","      }\n","      })();\n","    </script>\n","  </div>\n","\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":35}]},{"cell_type":"markdown","source":["#### Tratamento dos missings\n","- Drop variáveis com mais do que 70% de nulos\n","- Imputação com média para as que tiverem menos de 70% de nulos"],"metadata":{"id":"WbvFA1S_c33t"}},{"cell_type":"code","source":["msno.matrix(abt_treino, color=(0.7, 0.85, 1), figsize=(12, 4))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":240},"id":"IInWmdnpc4Rv","executionInfo":{"status":"ok","timestamp":1702928566692,"user_tz":180,"elapsed":8482,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"}},"outputId":"feac9dc5-9ede-4069-df0c-f42fb49813e7"},"execution_count":36,"outputs":[{"output_type":"execute_result","data":{"text/plain":["<Axes: >"]},"metadata":{},"execution_count":36},{"output_type":"display_data","data":{"text/plain":["<Figure size 1200x400 with 2 Axes>"],"image/png":"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r371q1i+fHlMnz499t9//zjxxBPjjDPOiB133HFS5wPyK7MHQD+2jc5WZQ7ZZOt1WxZDdZisKr73AP02NFR1AoYVKpzMnDmz7Bw9WbRoURx33HFx7733jtl+9913x9133x3z5s2LSy65JI4//vgJjzV37tz4zGc+E2vXrh2zfenSpbF06dJYsGBBrF69Os4///yec7/sZS/L3L5mzZp4z3veEz/60Y/GbF+5cmWsXLkybrjhhrjgggvihz/8YRx00EE95wDGKzpUJ+UeALJVf07Zxm/LolcAADRPZ9TPF198cVx33XVxyy23xB133BHr16/v2mFiKEcF6YEHHoh99tknIiJuvfXWuPzyy+NnP/tZ3HffffHkk0/G3nvvHcccc0x89rOfjb333nvS2XseqrPvvvvGgQceGD/96U8LH+O//uu/4oUvfGHX37/oRS/q+rs1a9bEW9/61pGiyQc+8IE4+eSTY9q0aXHNNdfEeeedF6tXr46TTjopFi5cGK9+9au7Hutv/uZv4q/+6q8iIuKAAw6ID3zgAzF79uzYZZddYuXKlfGb3/wmrrjiipgyZcq41+69995xxx13TPhezzvvvPj2t78dEZt752yp0+nEu9/97vjJT34SERGvec1r4uMf/3gceOCBsWbNmrjqqqti7ty5sWjRojj22GPj5ptvjhkzZkx4XqB8nkACAEA+o8sfn/vc52LJkiUxY8aM2GuvvWLJkiVdX/fXf/3XmdsXLVoUl1xySbz85S8fKZpERHzwgx+MG264IV73utfFySefHFOnTo0bbrghvv71r8ell14a1113XRx44IGTyl6ocHL22WfH7NmzY/bs2TFz5sxCw1RGO+CAA2LWrFmFXvvlL3857rlnc3/Kv//7v4+zzjpr5HeHHHJIHHHEEXH44YfHunXr4mMf+1hce+21mcf5+c9/PlI0ed/73hfz5s2Lbbfddsw+Rx11VJx55pmxfv36ca/fdtttxw3f2dJzzz03cv7p06fHCSecMG6fyy+/fKRo8qY3vSmuvPLK2G677UZ+f8QRR8Rb3vKWOOaYY2LJkiXx+c9/Pr761a9u9bzUSyo34KnkAACANup0Jt6nrubNmxcvfelLY7/99osvfelL8ZnPfKbrvp///Oczt3/4wx+OiIj3v//9Y7a/5z3viYsvvjj233//Mdv/7u/+Lj796U/HJz7xibjqqqsmlbdQ4eScc84p8rLSbdiwIf75n/85IiIOOuig+MQnPjFunze+8Y3x/ve/Py644IL4xS9+ETfddFPMnj17zD6bNm2KM844IyIiXvWqV8U3vvGN2Gab7k0zupAxGf/93/8dDz/8cEREnHjiiTFt2rRx+4yeH+ZrX/ta5rmOPvroOPnkk+OSSy6JCy+8ML7whS/E7rvvXigT6UmlF0MqOaqSZ46Tbq/r94oxZc450Uu2MucFSHk+jEHMI1JVe/Qz2yDeQ57XAUBdbWpw4eToo4/u6fXPPPNMXHLJJbHddtvFe9/73jG/Gy6obOnMM8+Mc845J37xi19M+ny1XlXnmmuuiSeffDIiNg97yRpCExExZ86cuOCCCyIi4oorrhhXOPnpT386MtTnU5/61FaLJr341re+NfJz1jCdiIibb745IiL233//eOlLX9r1WMccc0xccsklsWHDhvjhD3844eS5MFluOoopew6HPK9NZX6JvNl6OWcvr+13tjI/h1Q+vyqO38tr/d0CoEmmNGxy2LtXROy7a8ROxfohjPH9738/nnjiiTjxxBNjzz33zPWaoaGh2HbbbXPNmbKlWhdOFixYMPLz4Ycf3nW/1772tbHDDjvEunXrYuHCheN+f+mll0bE5oYcPYHs448/HitXrow99tij5x4da9asiR/84AcRETFr1qw47LDDMvcbXp1oogl4R//+l7/8pcJJg6Ry4d/2J7dtfM8AANAv96+KuG9VxPElXGd/4xvfiIiI0047LfdrLrvssli9enW8613vmvT5kiicnHrqqXH33XfHihUrYuedd479998/jj766DjjjDO2OuPtnXfeOfLz1iZ32WabbWL//feP22+/PX73u9+N+/2vfvWriNhc0Jg+fXp8+9vfjvPOOy9++9vfjuwzPFnshz/84Zg6deqk3+Nll10W69ati4iI9773vV2rXDvttFOsWrVqpCdNN6N/P7odoCwKB8X0MhRhMueIKGdIxGTOWdYwol6On/e1eYbq9CLlISdlD5spes6y97NkLADUW1kjj+6///645pprYt999403velNuV7z4IMPxkc+8pGYNm1anHvuuZM+ZxKFk9ETto5ecvcf/uEf4vzzz4+/+Iu/yHzd0qVLIyJixx13jF133XWr59hnn33i9ttvj+XLl8ezzz47UvzYtGlT3HXXXRERMWPGjPjoRz86Mm/KaPfcc0+cddZZccUVV8RVV1014fm2NHqYzvve976u+x100EFx/fXXx+9+97tYvnx5125Hv/zlL0d+fuCBByaVhbS58G+eQczzUTRH2fNQFM3RS96iUmmP4ddGVNseWzvH6GyDKJIAABEFRpS0wr/9279Fp9OJU089tet0HaOtXLkyjjvuuFi2bFl861vfipe97GWTPudQp9P7XL2jV9U55ZRTxkxw2s38+fPj3HPPjXe84x1xyCGHjCwfdN9998Xll18el112WQxHu+CCC+L0008fd4yDDz447rzzzpg5c2Y8+uijWz3fSSedFN/73vciImLFihWxxx57RETEE088MTIMZ/vtt49nnnkm9tprr/jyl78cxx13XGy//fZx0003xac+9amRniknnHBCfP/738/RMps98MADMWvWrOh0OvHGN74xc7jQsNEzCp9++ukjc7OMdu+998Yf//Efx1NPPRURm3uprFmzJnceAAAA6JdfPxLxcJdb1C2H6gzfA3/zm9+ccAqKTZs2xX777RcPP/xw3H///bHvvvtudf+VK1fGUUcdFbfffnt8/etf79opYyKV9Tg54YQT4pRTThk3ZGX27Nlx0kknxZVXXhnveMc7YsOGDfHxj3883va2t8ULXvCCMfs+88wzEZFvlZvRw2uefvrpkZ/Xrl075ng77LBDXHPNNWOqUIcddlj8z//8TxxyyCFx2223xRVXXBE33HBDvP71r8/1Xi+++OKRItDWeptERJxxxhnx1a9+NR566KG48MILY926dXHWWWfFgQceGGvWrImrr746PvnJT8batWtj2223jQ0bNox5PwAAAFClP95r8//K9pOf/CSWLl0ab3nLW3IXTW677bb42te+VrhoEhExcb+WPtlll122Opvt8ccfH2effXZERKxbt25k8pfRtt9++4iIWL9+/YTne/bZZ0d+Hr0M8PAxhp122mmZXXemTZsWf/u3fzvy79/97ncnPOewf//3f4+IzcWbk046aav77rLLLvGf//mf8fznPz8iNhddXvWqV8XUqVNjxowZ8b73vS8effTR+OIXvzgyXGj69Om5swAAAEAd5Z0UdnTRZO7cufGXf/mXPZ23ssJJHqeffvpIcSVrreXhgsHwkJWtGd2zZKeddhp3jGFvfvObux7jqKOOGlmq+KabbprwnBERN95448gcKm9729tyzY3ymte8Jm699db40Ic+NG51ndmzZ8eVV14Zn/70p0eG5+y22265sgAAAEAdLV++PH70ox/FnnvuGW9729u67vf444/H0UcfHbfddlv80z/9U3zoQx/q+dxJTA7bzfOf//zYY489YsWKFfHQQw+N+/2LXvSiuOGGG2Lt2rWxatWqrRYlHnzwwYiI2HPPPccM25k6dWrsueeesXz58oiIkblWsmy//fYxY8aMePTRR0f2n0jeSWG3tNdee8XcuXNj7ty58eijj8bq1atj5syZscsuu0TE5olxh4cqHXzwwbmPCwAAAFWaN29eLFiwICIi7rjjjpFtwwvHHHrooeN6lXzrW9+KDRs2xHvf+96tTtfxjne8I2699dY48MAD4/HHH4/Pf/7z4/b52Mc+NqkFX5IunETEVofzvPzlL4/LL788IiLuuuuueMMb3pC538aNG+P3v/99RGxetWZLBx988MgH9Nxzz201z/Dvh3uebM2GDRviO9/5TkRsLgIdc8wxE74mywte8IJx87vccsstIz+/7nWvK3RcAAAAGLQFCxbERRddNGbbwoULxyyksmXhJO8wncWLF0fE5hrBOeeck7nPnDlzJlU4SXqozvLly2PFihUREfHCF75w3O8PPfTQkZ+zhvIMu/nmm0eG6vzJn/zJuN8fdthhIz/fd999XY+zevXqkTx77733BOkjrrrqqli5cmVERPz5n/95rmJLXpdeeunIzxPNmwIAAACpmD9/fnQ6na7/y1qp984774xOp5PZGWK0xYsXb/XYnU4nZs2aNam8SRdOLrzwwpHVaA4//PBxvz/iiCNGhq5cdNFF0W1l5dGNfsIJJ4z7/Tvf+c6Rn6+44oquea644oqRc/zpn/7phPlHD9M55ZRTJtw/rzvvvHNkctqjjz46DjjggAleAQAAABRRSeFk8eLF8Zvf/Gar+1x55ZXxhS98ISI2r2hz6qmnjttnu+22i4985CMREfG73/0uvvKVr4zb5/rrrx/p0nP44YfH7Nmzx+3zyle+Mo499tiIiPiP//iP+PnPfz5un0cffTQ+97nPjZw3K89ojz/+eFx11VUREfGHf/iH8epXv3qr+4+WNZ/LsAcffDDe/va3x8aNG2Pq1Kkxd+7c3McFAAAAJqfQ2JEFCxbEokWLRv59ePhKRMSiRYvGdauZM2fOmH9fvHhxHHnkkXHIIYfEn/3Zn8WrXvWqkeV377vvvrjsssvisssuG+nd8ZWvfKXr0Jizzjorvvvd78Y999wTn/zkJ2PRokVx8sknx7Rp0+Kaa66JL37xi7Fx48aYNm1anH/++V3f0/nnnx/XX399rFq1Ko4//vj42Mc+Fscdd1xMmzYtbrzxxjjvvPNi6dKlERFx7rnnTjhU5zvf+c7IMsmT7W3ywQ9+MJYvXx7vfOc747WvfW3suuuusXz58vj5z38e//qv/xqrV6+OKVOmxIUXXhgHHnjgpI4NAAAA5DfU6Ta+ZSvmzJkzbiKXrdnyFNdee20ceeSRE75uhx12iH/8x3+M008/fav7LVq0KI477ri49957M3+/8847xyWXXBLHH3/8Vo+zYMGCOPHEE+Oxxx7L/P3Q0FB89rOfjXPPPXfC7G94wxvihhtuiOc973mxdOnScZO7bs3xxx8/0lsly+677x7/8i//Ym4TAAAA6LNKCidr1qyJH/7wh3H99dfHzTffHI888kisWLEiNm7cGLvttlscfPDBcdRRR8Vpp5020hNlImvXro2vfe1rcemll8aiRYti/fr1sc8++8Rxxx0XH/3oR2O//fbLdZyVK1fG3Llz4wc/+EHcf//9sX79+thrr73iiCOOiA9/+MPxR3/0RxMe49577x2Zd+SYY46JH//4x7nOPWzhwoXx/e9/P6677rp48MEHY+XKlbHrrrvGS17yknj7298ep512WsyYMWNSxwQAAAAmr1DhBAAAAKANkl5VBwAAAKBKCicAAAAAXSicAAAAAHShcAIAAADQhcIJAAAAQBcKJwAAAABdKJwAAAAAdKFwAgAAANCFwgkAAABAFwonAAAAAF0onAAAAAB0oXACAAAA0IXCCQAAAEAXCicAAAAAXfx/rLAqE4Gj+q4AAAAASUVORK5CYII=\n"},"metadata":{}}]},{"cell_type":"code","source":["def pod_custom_fillna(df):\n","    import pandas as pd\n","\n","    import numpy as np\n","    # Substituindo -1 por nulos\n","    # Esta função serve para este modelo ou caso específico, porque pode ser que em outras situações o missing não venha marcado com -1\n","\n","    df.replace(-1, np.nan, inplace=True)\n","    numerical_cols = df.select_dtypes(include=['float64', 'float32', 'int64', 'int32']).columns\n","    means = {}\n","\n","    for col in numerical_cols:\n","        means[col] = df[col].mean()\n","        df[col].fillna(means[col], inplace=True)\n","\n","    categorical_cols = df.select_dtypes(include=['object']).columns\n","    df[categorical_cols] = df[categorical_cols].fillna('MISS_VERIFICAR')\n","\n","    return df, means"],"metadata":{"id":"cRt0xbuudRlS","executionInfo":{"status":"ok","timestamp":1702928655850,"user_tz":180,"elapsed":289,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"}}},"execution_count":37,"outputs":[]},{"cell_type":"code","source":["abt_treino_01 = abt_treino.drop(axis=1,columns=['TARGET',ID_treino],inplace=False)\n","\n","abt_treino_01, means = pod_custom_fillna(abt_treino_01)\n","\n","with open('/content/drive/MyDrive/2. Study  Work/Pod Academy/Hackathon - Ciência de Dados/Códigos e artefatos/00 - Modelagem/10 - Modelo Regressão Logística/01 - Data Prep/prd_fillna.pkl', 'wb') as f:\n","  pickle.dump(means, f)"],"metadata":{"id":"o9Ox5mRadDIz","executionInfo":{"status":"ok","timestamp":1702928875278,"user_tz":180,"elapsed":2858,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"}}},"execution_count":40,"outputs":[]},{"cell_type":"code","source":["# Visualizando o mapa de missing usando missingno em tom azul\n","msno.matrix(abt_treino_01, color=(0.7, 0.85, 1), figsize=(12, 4))"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":240},"id":"jeKfVRCseHGf","executionInfo":{"status":"ok","timestamp":1702928900169,"user_tz":180,"elapsed":11418,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"}},"outputId":"2dfa6ff6-62e7-4738-9a07-3f4a2b51d2b2"},"execution_count":41,"outputs":[{"output_type":"execute_result","data":{"text/plain":["<Axes: >"]},"metadata":{},"execution_count":41},{"output_type":"display_data","data":{"text/plain":["<Figure size 1200x400 with 2 Axes>"],"image/png":"iVBORw0KGgoAAAANSUhEUgAABE4AAAFjCAYAAAAjNk7DAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjcuMSwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy/bCgiHAAAACXBIWXMAAA9hAAAPYQGoP6dpAAAZ6klEQVR4nO3de5BWdf3A8c8aclEUL4sriqCliJhCyRreMW9gKw5pajkITGjaZOooWiMhSkhjTDmhlYSJJoqjiOla6kRg7Q6BmDY6XmBTEEiSi8rGpoA+vz/47dPS7md3QRTI12uG4eGc77k8h7/2ved8T0mhUCgEAAAAAI3stK1PAAAAAGB7JZwAAAAAJIQTAAAAgIRwAgAAAJAQTgAAAAASwgkAAABAQjgBAAAASAgnAAAAAAnhBAAAACAhnAAAAAAkhJPt0FtvvRWVlZUxevToGDhwYJSWlkZJSUmUlJTEsGHDtvXpAQAAwKdGm219AjRWVla2rU8BAAAACHecbPe6desWp59++rY+DQAAAPhUcsfJdmj06NFRXl4e5eXlUVZWFosWLYqDDjpoW58WAAAAfOoIJ9uhG2+8cVufAgAAABAe1QEAAABICScAAAAACeEEAAAAICGcAAAAACRMDvsp9dir//n8mZKIM3ts/Py7BREfFFq3LGLLtvtfXuaauE6uieu0PSxznVwT18k1cZ22z2Wu0/ZzTRo669D41FmxNmLusojd2kacdOC2PpvtnztOAAAAABLCCQAAAEBCOAEAAABICCcAAAAACeEEAAAAICGcAAAAACSEEwAAAICEcAIAAACQaLOtT4DGqqqqoqampvjvlStXFj/X1NTElClTNhk/bNiwT+jMAAAA4NNFONkOTZ48Oe6+++4m11VXV0d1dfUmy4QTAAAA+Hh4VAcAAAAgIZxsh6ZMmRKFQqHVfwAAAICPh3ACAAAAkBBOAAAAABLCCQAAAEBCOAEAAABICCcAAAAACeEEAAAAICGcAAAAACSEEwAAAICEcAIAAACQEE4AAAAAEsIJAAAAQEI4AQAAAEgIJwAAAAAJ4QQAAAAgIZwAAAAAJIQTAAAAgIRwAgAAAJAQTgAAAAASwgkAAABAQjgBAAAASAgnAAAAAAnhBAAAACAhnAAAAAAkhBMAAACAhHACAAAAkBBOAAAAABLCCQAAAEBCOAEAAABICCcAAAAACeEEAAAAICGcAAAAACSEEwAAAICEcAIAAACQEE4AAAAAEsIJAAAAQEI4AQAAAEgIJwAAAAAJ4QQAAAAgIZwAAAAAJIQTAAAAgIRwAgAAAJAQTgAAAAASwgkAAABAQjgBAAAASAgnAAAAAAnhBAAAACAhnAAAAAAkhBMAAACAhHACAAAAkBBOAAAAABLCCQAAAEBCOAEAAABICCcAAAAACeEEAAAAICGcAAAAACSEEwAAAICEcAIAAACQEE4AAAAAEsIJAAAAQEI4AQAAAEgIJwAAAAAJ4QQAAAAgIZwAAAAAJIQTAAAAgIRwAgAAAJAQTgAAAAASwgkAAABAQjgBAAAASAgnAAAAAAnhBAAAACAhnAAAAAAkhBMAAACAhHACAAAAkBBOAAAAABLCCQAAAEBCOAEAAABICCcAAAAACeEEAAAAICGcAAAAACSEEwAAAICEcAIAAACQEE4AAAAAEsIJAAAAQEI4AQAAAEgIJwAAAAAJ4QQAAAAgIZwAAAAAJIQTAAAAgIRwAgAAAJAQTgAAAAASwgkAAABAQjgBAAAASAgnAAAAAAnhBAAAACAhnAAAAAAkhBMAAACAhHACAAAAkBBOAAAAABLCCQAAAEBCOAEAAABICCcAAAAACeEEAAAAICGcAAAAACSEEwAAAICEcAIAAACQEE4AAAAAEsIJAAAAQEI4AQAAAEgIJwAAAAAJ4QQAAAAgIZwAAAAAJIQTAAAAgIRwAgAAAJAQTgAAAAASwgkAAABAQjgBAAAASAgnAAAAAAnhBAAAACAhnAAAAAAkhBMAAACAhHACAAAAkBBOAAAAABLCCQAAAEBCOAEAAABICCcAAAAACeEEAAAAICGcAAAAACSEEwAAAICEcAIAAACQEE4AAAAAEsIJAAAAQEI4AQAAAEgIJwAAAAAJ4QQAAAAgIZwAAAAAJIQTAAAAgIRwAgAAAJAQTgAAAAASwgkAAABAQjgBAAAASAgnAAAAAAnhBAAAACAhnAAAAAAkhBMAAACAhHACAAAAkBBOAAAAABLCCQAAAEBCOAEAAABICCcAAAAACeEEAAAAICGcAAAAACSEEwAAAICEcAIAAACQEE4AAAAAEsIJAAAAQEI4AQAAAEgIJwAAAAAJ4QQAAAAgIZwAAAAAJIQTAAAAgIRwAgAAAJAQTgAAAAASwgkAAABAQjgBAAAASAgnAAAAAAnhBAAAACAhnAAAAAAkhBMAAACAhHACAAAAkBBOAAAAABLCCQAAAEBCOAEAAABICCcAAAAACeEEAAAAICGcAAAAACSEEwAAAICEcAIAAACQEE4AAAAAEsIJAAAAQEI4AQAAAEgIJwAAAAAJ4QQAAAAgIZwAAAAAJIQTAAAAgIRwAgAAAJAQTgAAAAASwgkAAABAQjgBAAAASAgnAAAAAAnhBAAAACAhnAAAAAAkhBMAAACAhHACAAAAkBBOAAAAABLCCQAAAEBCOAEAAABICCcAAAAACeEEAAAAICGcAAAAACSEEwAAAICEcAIAAACQEE4AAAAAEsIJAAAAQEI4AQAAAEgIJwAAAAAJ4QQAAAAgIZwAAAAAJIQTAAAAgIRwAgAAAJAQTgAAAAASwgkAAABAQjgBAAAASAgnAAAAAAnhBAAAACAhnAAAAAAkhBMAAACAhHACAAAAkBBOAAAAABLCCQAAAEBCOAEAAABICCcAAAAACeEEAAAAICGcAAAAACSEEwAAAICEcAIAAACQEE4AAAAAEsIJAAAAQEI4AQAAAEgIJwAAAAAJ4QQAAAAgIZwAAAAAJIQTAAAAgIRwAgAAAJAQTgAAAAASwgkAAABAQjgBAAAASAgnAAAAAAnhBAAAACAhnAAAAAAkhBMAAACAhHACAAAAkBBOAAAAABLCCQAAAEBCOAEAAABICCcAAAAACeEEAAAAICGcAAAAACSEEwAAAICEcAIAAACQEE4AAAAAEsIJAAAAQEI4AQAAAEgIJwAAAAAJ4QQAAAAgIZwAAAAAJIQTAAAAgIRwAgAAAJAQTgAAAAASwgkAAABAQjgBAAAASAgnAAAAAAnhBAAAACAhnAAAAAAkhBMAAACAhHACAAAAkBBOAAAAABLCCQAAAEBCOAEAAABICCcAAAAACeEEAAAAICGcAAAAACSEEwAAAICEcAIAAACQEE4AAAAAEsIJAAAAQEI4AQAAAEgIJwAAAAAJ4QQAAAAgIZwAAAAAJIQTAAAAgIRwAgAAAJAQTgAAAAASwgkAAABAQjgBAAAASAgnAAAAAAnhBAAAACCxReHkrbfeisrKyhg9enQMHDgwSktLo6SkJEpKSmLYsGGt2seUKVOK27T0Z8qUKS3ur66uLm655ZYoLy+PvfbaK3bdddfo2bNnXH311bF48eLN+n5vvPFG3HDDDdG3b9/o3LlztG/fPg444IA44YQTYvTo0fHiiy822mbRokWt/j71fw488MBmz6OysjLOPffc6Nq1a7Rr1y5KS0ujX79+MWHChFi7du1mfScAAABg821ROCkrK4uzzjorxo4dG0888USsWrVqa5/XZqmpqYk+ffrEddddF/Pnz4+333476urq4tVXX42f/OQnceSRR0ZlZWWr9jVx4sTo1atX3HTTTfHss8/GypUr4/3334+lS5dGVVVVjB07NiZPnrxVzvvQQw9tcnltbW0MGjQozjrrrJg+fXosW7Ys1q1bF6tWrYq5c+fGyJEjo0+fPvHyyy9vlfMAAAD4tLr33nvjW9/6VvTt2zfatWvX7C/vW/ML8iVLljTaburUqXH00UfHrrvuGnvuuWdUVFTEX//614/5m22/drRr3maLtmqgW7du0bNnz3jqqae2eB9PPvlk7Lfffun6rl27putqa2vjK1/5SixcuDAiIi6++OK44IILokOHDjFr1qwYP358rFmzJs4///yorq6OPn36pPv64Q9/GD/4wQ8iIqJHjx5x8cUXR3l5eXTq1ClWrVoVzz33XMyYMSN22qlxb9p///3jhRdeaPG7jh8/Pu67776IiBg6dGij9YVCIc4777x44oknIiLiqKOOiquuuip69uwZtbW18fjjj8fEiROjpqYmBg4cGPPnz4/S0tIWjwsAAEBjo0aNisWLF0dpaWl06dKl2ScWbrjhhiaX19TUxNSpU6NXr15xwAEHbLJu3LhxMWrUqOjevXtceumlUVtbG9OmTYtjjz02Zs6cGccdd9xW/T47gh3tmm9ROBk9enSUl5dHeXl5lJWVxaJFi+Kggw7akl1FxMZI0dJjK5kf//jHsWDBgoiIuOWWW2LkyJHFdcccc0z0798/TjrppKirq4srr7wyZs+e3eR+Zs6cWYwmF110UUyePDl23nnnTcaccsopcc0118S6desabb/zzjvH5z//+WbP9YMPPigef7fddovBgwc3GjN9+vRiNDnttNOisrIy2rZtW1zfv3//OOOMM2LAgAGxePHiGDNmTNx2223NHhcAAICmTZ48OQ455JDo3r17/OhHP4rvf//76dgxY8Y0ufzyyy+PiIhvfvObmyxfuHBhjBkzJnr06BHz5s2LTp06RUTEt7/97ejXr19cfPHF8eKLLzb5y/n/ZTvaNd+i/50bb7wxKioqoqysbEs232rWr18fP/vZzyIi4rDDDourr7660Zhjjz22eCGffvrpeOaZZxqN+fDDD+Oyyy6LiIjevXvHnXfe2SiaNNQwZGyOP/zhD/GPf/wjIiLOPffc6NChQ6MxDW9Puv3225s81qmnnhoXXHBBRERMmjQpVq9evUXnAwAA8Gl36qmnRvfu3bd4+/feey+mTp0abdu2jSFDhmyy7q677ooNGzbE9ddfX/wBPiKiT58+8fWvfz1efvnlqKqq2uJj76h2tGu+Q2etWbNmxbvvvhsRGx97yYpRwwlrZ8yY0Wj9U089VXzU57rrros2bT7yE0xNuueee4qfm3pMJyJi/vz5ERFx8MEHxyGHHJLua8CAARGxMR49+uijW/EsAQAAaK2HH3443n777Rg0aFB07tx5k3X1TxycfvrpjbY744wzImLjL/g/ae++t/Hvf62LqHoj4q0d7N0jn/Q136HDScNKdNJJJ6Xj+vbtG7vssktERFRXVzda/+CDD0bExklnKioqistXr14dCxcu3Cp3dNTW1sYjjzwSEREHHnhgnHjiiU2Oq59ot6W7eRqu/9Of/vSRzw8AAIDNd+edd0ZExIgRIxqtW7hwYXTs2DH23XffRuvqf1Fe/0v8T8rflke88v/vdylExDvvRcxbtnH5juKTvubbRTgZPnx47LffftG2bdviK3dHjRoVy5Yta3a7l156qfi5Z8+e6bg2bdrEwQcfHBHR5Jto/vKXv0TExqCx2267xX333RdHHHFE7L333tGjR4/Ye++949BDD40JEybE+++/vyVfMR566KGoq6uLiIghQ4ZESUlJk+M6duwYEVG8kybTcH3D6wAAAMAn4/XXX49Zs2ZFt27d4rTTTmu0/t13393kcZGGdt999+KYT8pbayOWrGl63ZI1ESt2gDtPtsU13y7CyezZs+PNN9+M9evXF1+5O27cuDj44IPjjjvuSLdbunRpRETsuuuuscceezR7jPpZdlesWLFJ/Pjwww/jlVdeiYiI0tLSuOKKK+LCCy+MF198cZPtFyxYECNHjowvf/nL8c4772z2d2z4mM5FF12UjjvssMMiYmPgWbFiRTqu4V0mb7zxxmafDwAAAB/Nr3/96ygUCjF8+PAdYoLXBauaX/9qC+u3B9vkmhe2gtdff70QG+/yKQwdOrRV29x1112Fz372s4VrrrmmMH369MK8efMK8+bNK0ybNq3wta99rVBSUlLc5x133NHkPnr16lWIiEJZWVmLxzvvvPOK+1u5cmVx+erVq4vL27dvX4iIQpcuXQr33ntvYfXq1YW6urrC008/XejXr19x3ODBg1v1HestXry4+H2OPfbYZseOHz++eJxLLrmkyTELFiwodOzYsTiuY8eOm3U+AAAANFb/89hdd93V4tgPPvig0LVr18JOO+1UWLx4cZNjSktL05/X5s+fX4iIwpAhQz7KKW+WP/y9UHjs1fzPH/7+iZ1K0Y5wzT+eWVBbYfDgwTF06NBGj6yUl5fH+eefH5WVlfHVr3411q9fH1dddVUMGjSo0TNK7723cUab1rzlpl27dsXP//73v4uf1679z71I7733Xuyyyy4xa9asOPTQQ4vLTzzxxPjjH/8YxxxzTPztb3+LGTNmxNy5c+NLX/pSq77rvffeG4VCISKav9skIuKyyy6L2267LZYtWxaTJk2Kurq6GDlyZPTs2TNqa2vjd7/7XVx77bWxdu3a2HnnnWP9+vWbfB8AAAA+fk888UQsXbo0zjjjjOjWrVuTYw455JCYM2dOLF++vNHPs/XzbDT3UpCt7ZTPfmKH+lhsq2u+ze4l6tSpUzrPR0RERUVFjB49OiIi6urqipO/NNS+ffuIiFi3bl2Lx2v4eE7D1wDX76PeiBEjNokmDbcZN25c8d8PPPBAi8es95vf/CYiNsab888/v9mxnTp1it/+9rexzz77RMTG6NK7d+9o165dlJaWxkUXXRTLly+Pm2++ufh40m677dbqcwEAAOCja26C0nr1LzF56qmnGq178sknNxlDy7bVNd+uH8K65JJLinGlqdcF1QeDf/3rXy3uq+GdJfUTsDbcR72mXllU75RTTim+qviZZ55p8ZgREfPmzSvOoTJo0KAW52KJiDjqqKPi+eefj+985zuN3q5TXl4elZWV8b3vfS9qa2sjImLPPfds1bkAAADw0a1YsSIee+yx6Ny5cwwaNCgdN3z48GjTpk2MGzdukwlJn3/++bj//vvjsMMOi+OPP/6TOOUd3ra85tvsUZ3W2GeffWLvvfeOlStXNvmGna5du8bcuXNj7dq18c477zQbJZYsWRIREZ07d97ksZ127dpF586dixOx1k8i25T27dtHaWlpLF++vNmJWxtq7aSw/61Lly4xceLEmDhxYixfvjzWrFkTZWVlxdmBly5dWnxU6fDDD2/1fgEAAPiPyZMnR1VVVUREvPDCC8Vls2fPjoiI448/vtEdDvfcc0+sX78+hgwZ0uzUET169IgxY8bEqFGjonfv3nHOOedEbW1tTJs2LSIifvWrX+0Qk8pubTvaNd+uw0lENPs4T69evWL69OkREfHKK69Ev379mhy3YcOG+Pvf/x4R/3lrTUOHH3548T/ogw8+aPZ86tfX33nSnPXr1xf/c/bZZ58YMGBAi9s0Zd999230bNazzz5b/Hz00Udv0X4BAAA+7aqqquLuu+/eZFl1dXVUV1cX//3fP8S35pGRetdff30ceOCBceutt8YvfvGLaNu2bZxwwgkxduzY+OIXv7gVvsGOZ0e75tt1OFmxYkWsXLkyIiL222+/Rusb3l7z9NNPp+Fk/vz5xUd1jjvuuEbrTzzxxGI4ee211+ILX/hCk/tZs2ZN8Xz233//Fs//8ccfj1WrNr7P6Rvf+EarYktrPfjgg8XPLc2bAgAAQNOmTJkSU6ZM2axtXnrppc0af+GFF8aFF164Wdv8L9vRrvl2fU/QpEmTim+jaWrylv79+xcfXbn77ruLY/9bw/+QwYMHN1p/zjnnFD/PmDEjPZ8ZM2YUj3HCCSe0eP4NH9MZOnRoi+Nb66WXXipOTnvqqadGjx49ttq+AQAAgP/YJuFk0aJF8dxzzzU7prKyMm666aaI2PhGm+HDhzca07Zt2/jud78bEREvv/xyTJgwodGYOXPmFG/pOemkk6K8vLzRmCOPPDIGDhwYERH3339/zJw5s9GY5cuXx6hRo4rHbep8Glq9enU8/vjjERFxxBFHRJ8+fZod31BT87nUW7JkSZx99tmxYcOGaNeuXUycOLHV+wUAAAA2zxY9O1JVVRU1NTXFf9c/vhIRUVNT0+iWm2HDhm3y70WLFsXJJ58cxxxzTJx11lnRu3fv4ut3X3vttXjooYfioYceKt7dMWHChPTRmJEjR8YDDzwQCxYsiGuvvTZqamriggsuiA4dOsSsWbPi5ptvjg0bNkSHDh3i1ltvTb/TrbfeGnPmzIl33nknKioq4sorr4wzzzwzOnToEPPmzYvx48fH0qVLIyJi7NixLT6qM23atOJrkjf3bpNLL700VqxYEeecc0707ds39thjj1ixYkXMnDkzfvnLX8aaNWtip512ikmTJkXPnj03a98AAABA65UUsudbmjFs2LBGE7k0578PMXv27Dj55JNb3G6XXXaJn/70p3HJJZc0O66mpibOPPPMWLhwYZPrd99995g6dWpUVFQ0u5+qqqo499xz45///GeT60tKSuL666+PsWPHtnju/fr1i7lz58ZnPvOZWLp0aaPJXZtTUVFRvFulKXvttVf8/Oc/N7cJAAAAfMy2STipra2NRx99NObMmRPz58+PN998M1auXBkbNmyIPffcMw4//PA45ZRTYsSIEcU7UVqydu3auP322+PBBx+MmpqaWLduXRxwwAFx5plnxhVXXBHdu3dv1X5WrVoVEydOjEceeSRef/31WLduXXTp0iX69+8fl19+eTpxbEMLFy4szjsyYMCA+P3vf9+qY9errq6Ohx9+OP785z/HkiVLYtWqVbHHHnvE5z73uTj77LNjxIgRUVpauln7BAAAADbfFoUTAAAAgE+D7fqtOgAAAADbknACAAAAkBBOAAAAABLCCQAAAEBCOAEAAABICCcAAAAACeEEAAAAICGcAAAAACSEEwAAAICEcAIAAACQEE4AAAAAEsIJAAAAQEI4AQAAAEgIJwAAAACJ/wOc5iQ4bnHYegAAAABJRU5ErkJggg==\n"},"metadata":{}}]},{"cell_type":"markdown","source":["#### Aplicar o tratamento de nulos na base de teste (out-of-sample)"],"metadata":{"id":"-W2fd47Ce-wB"}},{"cell_type":"code","source":["with open('/content/drive/MyDrive/2. Study  Work/Pod Academy/Hackathon - Ciência de Dados/Códigos e artefatos/00 - Modelagem/10 - Modelo Regressão Logística/01 - Data Prep/prd_fillna.pkl', 'rb') as f:\n","  loaded_means = pickle.load(f)\n","loaded_means"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"YnxyXENEeLE4","executionInfo":{"status":"ok","timestamp":1702929131411,"user_tz":180,"elapsed":364,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"}},"outputId":"ba8058d6-34f3-440a-d46a-9017b4d1b6f1"},"execution_count":42,"outputs":[{"output_type":"execute_result","data":{"text/plain":["{'CNT_CHILDREN': 0.4162092926021542,\n"," 'AMT_INCOME_TOTAL': 168699.04549346626,\n"," 'AMT_CREDIT': 599845.5172917261,\n"," 'AMT_ANNUITY': 27149.62152063395,\n"," 'AMT_GOODS_PRICE': 539122.5637288766,\n"," 'REGION_POPULATION_RELATIVE': 0.020843482310076378,\n"," 'DAYS_BIRTH': -16035.914852102815,\n"," 'DAYS_EMPLOYED': 63599.31629036754,\n"," 'DAYS_REGISTRATION': -4976.067520465273,\n"," 'DAYS_ID_PUBLISH': -2991.8822818756307,\n"," 'OWN_CAR_AGE': 12.035873743060138,\n"," 'FLAG_MOBIL': 0.9999933633751219,\n"," 'FLAG_EMP_PHONE': 0.8204792970486929,\n"," 'FLAG_WORK_PHONE': 0.19891292084497508,\n"," 'FLAG_CONT_MOBILE': 0.9981550182839015,\n"," 'FLAG_PHONE': 0.2809283310879419,\n"," 'FLAG_EMAIL': 0.05709488382588151,\n"," 'CNT_FAM_MEMBERS': 2.153631229302026,\n"," 'REGION_RATING_CLIENT': 2.0532987343956357,\n"," 'REGION_RATING_CLIENT_W_CITY': 2.0322141771580644,\n"," 'HOUR_APPR_PROCESS_START': 12.05614584646832,\n"," 'REG_REGION_NOT_LIVE_REGION': 0.01548988246537341,\n"," 'REG_REGION_NOT_WORK_REGION': 0.05142720618002509,\n"," 'LIVE_REGION_NOT_WORK_REGION': 0.04101434174636147,\n"," 'REG_CITY_NOT_LIVE_CITY': 0.07842499618394069,\n"," 'REG_CITY_NOT_WORK_CITY': 0.23066917088645397,\n"," 'LIVE_CITY_NOT_WORK_CITY': 0.17929505770545331,\n"," 'EXT_SOURCE_1': 0.5031859956528094,\n"," 'EXT_SOURCE_2': 0.5145058417827371,\n"," 'EXT_SOURCE_3': 0.510793838732432,\n"," 'APARTMENTS_AVG': 0.11745182720215999,\n"," 'BASEMENTAREA_AVG': 0.08862181314013688,\n"," 'YEARS_BEGINEXPLUATATION_AVG': 0.9775837776509942,\n"," 'YEARS_BUILD_AVG': 0.7525410325655283,\n"," 'COMMONAREA_AVG': 0.04448259987653232,\n"," 'ELEVATORS_AVG': 0.07933155350847264,\n"," 'ENTRANCES_AVG': 0.14969888118626376,\n"," 'FLOORSMAX_AVG': 0.2261280975558142,\n"," 'FLOORSMIN_AVG': 0.23166274311225016,\n"," 'LANDAREA_AVG': 0.06645004251839737,\n"," 'LIVINGAPARTMENTS_AVG': 0.10087016833179416,\n"," 'LIVINGAREA_AVG': 0.10748022711199477,\n"," 'NONLIVINGAPARTMENTS_AVG': 0.00886710563487407,\n"," 'NONLIVINGAREA_AVG': 0.028449006789784126,\n"," 'APARTMENTS_MODE': 0.1141147040161998,\n"," 'BASEMENTAREA_MODE': 0.08769584542146852,\n"," 'YEARS_BEGINEXPLUATATION_MODE': 0.9769181439796681,\n"," 'YEARS_BUILD_MODE': 0.7596546088165209,\n"," 'COMMONAREA_MODE': 0.04238833230443602,\n"," 'ELEVATORS_MODE': 0.07477473558512453,\n"," 'ENTRANCES_MODE': 0.1451442386445759,\n"," 'FLOORSMAX_MODE': 0.2221441897682785,\n"," 'FLOORSMIN_MODE': 0.22772945662732777,\n"," 'LANDAREA_MODE': 0.06499453638593622,\n"," 'LIVINGAPARTMENTS_MODE': 0.10556124380824447,\n"," 'LIVINGAREA_MODE': 0.10595249729787433,\n"," 'NONLIVINGAPARTMENTS_MODE': 0.008089853749701198,\n"," 'NONLIVINGAREA_MODE': 0.02704224226306327,\n"," 'APARTMENTS_MEDI': 0.1178201174485319,\n"," 'BASEMENTAREA_MEDI': 0.08813050537755053,\n"," 'YEARS_BEGINEXPLUATATION_MEDI': 0.977563354166126,\n"," 'YEARS_BUILD_MEDI': 0.7557931910246228,\n"," 'COMMONAREA_MEDI': 0.04445731105035717,\n"," 'ELEVATORS_MEDI': 0.07843426589332425,\n"," 'ENTRANCES_MEDI': 0.14919804073766763,\n"," 'FLOORSMAX_MEDI': 0.22576540180933236,\n"," 'FLOORSMIN_MEDI': 0.23134518942603807,\n"," 'LANDAREA_MEDI': 0.06731461488143908,\n"," 'LIVINGAPARTMENTS_MEDI': 0.10198328016119554,\n"," 'LIVINGAREA_MEDI': 0.10867976007792798,\n"," 'NONLIVINGAPARTMENTS_MEDI': 0.008691824760414631,\n"," 'NONLIVINGAREA_MEDI': 0.02824043264445006,\n"," 'TOTALAREA_MODE': 0.10255863220206221,\n"," 'OBS_30_CNT_SOCIAL_CIRCLE': 1.419609148716583,\n"," 'DEF_30_CNT_SOCIAL_CIRCLE': 0.1430236042214602,\n"," 'OBS_60_CNT_SOCIAL_CIRCLE': 1.402563505010487,\n"," 'DEF_60_CNT_SOCIAL_CIRCLE': 0.09983686786296901,\n"," 'DAYS_LAST_PHONE_CHANGE': -970.9500562897043,\n"," 'FLAG_DOCUMENT_2': 1.3273249756104036e-05,\n"," 'FLAG_DOCUMENT_3': 0.7095680220866876,\n"," 'FLAG_DOCUMENT_4': 9.291274829272824e-05,\n"," 'FLAG_DOCUMENT_5': 0.01539033309220263,\n"," 'FLAG_DOCUMENT_6': 0.08749062576735975,\n"," 'FLAG_DOCUMENT_7': 0.00016591562195130045,\n"," 'FLAG_DOCUMENT_8': 0.08198886374345463,\n"," 'FLAG_DOCUMENT_9': 0.003962065052197055,\n"," 'FLAG_DOCUMENT_10': 2.6546499512208072e-05,\n"," 'FLAG_DOCUMENT_11': 0.0038890621785384826,\n"," 'FLAG_DOCUMENT_12': 6.636624878052018e-06,\n"," 'FLAG_DOCUMENT_13': 0.003364768813172373,\n"," 'FLAG_DOCUMENT_14': 0.0028869318219526276,\n"," 'FLAG_DOCUMENT_15': 0.0012012291029274151,\n"," 'FLAG_DOCUMENT_16': 0.009994757066346338,\n"," 'FLAG_DOCUMENT_17': 0.0002853748697562368,\n"," 'FLAG_DOCUMENT_18': 0.008129865475613722,\n"," 'FLAG_DOCUMENT_19': 0.0005773863643905255,\n"," 'FLAG_DOCUMENT_20': 0.0004911102409758493,\n"," 'FLAG_DOCUMENT_21': 0.0003318312439026009,\n"," 'AMT_REQ_CREDIT_BUREAU_HOUR': 0.00659433347391021,\n"," 'AMT_REQ_CREDIT_BUREAU_DAY': 0.0068627075106391135,\n"," 'AMT_REQ_CREDIT_BUREAU_WEEK': 0.034505233293716214,\n"," 'AMT_REQ_CREDIT_BUREAU_MON': 0.2686807499137369,\n"," 'AMT_REQ_CREDIT_BUREAU_QRT': 0.2668941456120845,\n"," 'AMT_REQ_CREDIT_BUREAU_YEAR': 1.8933941647816586,\n"," 'var_1': 0.4983958862969508,\n"," 'var_2': 0.4991931386137605,\n"," 'var_3': 0.5007472281057477,\n"," 'var_4': 0.4984707984786316,\n"," 'var_5': 0.49996723684334,\n"," 'var_6': 0.49953646004318447,\n"," 'var_7': 0.5004465445724378,\n"," 'var_8': 0.5008323198761557,\n"," 'var_9': 0.5009915320118933,\n"," 'var_10': 0.4994933361564683,\n"," 'var_11': 0.5000261889735667,\n"," 'var_12': 0.5014489182798342,\n"," 'var_13': 0.5007937786743278,\n"," 'var_14': 0.500415204423777,\n"," 'var_15': 0.5016453539662896,\n"," 'var_16': 0.5007942806094794,\n"," 'var_17': 0.5014112207590378,\n"," 'var_18': 0.5000320817730702,\n"," 'var_19': 0.4985320019373235,\n"," 'var_20': 0.49895263484084174,\n"," 'var_21': 0.4999709295744016,\n"," 'var_22': 0.5007250357343267,\n"," 'var_23': 0.4995410458609803,\n"," 'var_24': 0.5011765926507896,\n"," 'var_25': 0.49937490187126127,\n"," 'var_26': 0.5008623215340943,\n"," 'var_27': 0.49967240376557226,\n"," 'var_28': 0.5002315476860375,\n"," 'var_29': 0.5001708305569905,\n"," 'var_30': 0.4994827099273167,\n"," 'var_31': 0.499670552607236,\n"," 'var_32': 0.5006801500746183,\n"," 'var_33': 0.5005412724960326,\n"," 'var_34': 0.5001365319382552,\n"," 'var_35': 0.5003308410290255,\n"," 'var_36': 0.49908790909025325,\n"," 'var_37': 0.499078612321892,\n"," 'var_38': 0.4999150215684122,\n"," 'var_39': 0.4999425204118565,\n"," 'var_40': 0.5002707900180902,\n"," 'var_41': 0.5000243431783318,\n"," 'var_42': 0.5001440058926552,\n"," 'var_43': 0.4993769079236298,\n"," 'var_44': 0.50004586129538,\n"," 'var_45': 0.5011368701614992,\n"," 'var_46': 0.5003452226263041,\n"," 'var_47': 0.49996767404787373,\n"," 'var_48': 0.5002342451709182,\n"," 'var_49': 0.4999490200157306,\n"," 'var_50': 0.4995645155364712}"]},"metadata":{},"execution_count":42}]},{"cell_type":"code","source":["def pod_custom_fillna_prod(df, means):\n","    import numpy as np\n","    import pandas as pd\n","    df.replace(-1, np.nan, inplace=True)\n","    for col, mean_value in means.items():\n","      df[col].fillna(mean_value, inplace=True)\n","\n","    categorical_cols = df.select_dtypes(include=['object']).columns\n","    df[categorical_cols] = df[categorical_cols].fillna('MISS_VERIFICAR')\n","\n","    return df"],"metadata":{"id":"3MD2fMIcfObU","executionInfo":{"status":"ok","timestamp":1702929165968,"user_tz":180,"elapsed":251,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"}}},"execution_count":43,"outputs":[]},{"cell_type":"code","source":["abt_oos_01 = pod_custom_fillna_prod(abt_teste,loaded_means)\n","abt_oos_01.shape"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"65o0YX5afGPO","executionInfo":{"status":"ok","timestamp":1702929168470,"user_tz":180,"elapsed":654,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"}},"outputId":"356ead55-6b55-4dca-a03b-16e7940d7fed"},"execution_count":44,"outputs":[{"output_type":"execute_result","data":{"text/plain":["(64578, 172)"]},"metadata":{},"execution_count":44}]},{"cell_type":"code","source":["abt_treino_01.head()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":255},"id":"e-MU2uc1idrk","executionInfo":{"status":"ok","timestamp":1702930015259,"user_tz":180,"elapsed":362,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"}},"outputId":"98709c09-fc94-4c5a-ee35-f3bd47b37658"},"execution_count":45,"outputs":[{"output_type":"execute_result","data":{"text/plain":["      NAME_CONTRACT_TYPE CODE_GENDER FLAG_OWN_CAR FLAG_OWN_REALTY  \\\n","45499         Cash loans           F            N               Y   \n","74186         Cash loans           F            N               Y   \n","65253         Cash loans           F            N               N   \n","60400         Cash loans           F            N               N   \n","71140         Cash loans           F            N               N   \n","\n","       CNT_CHILDREN  AMT_INCOME_TOTAL  AMT_CREDIT  AMT_ANNUITY  \\\n","45499             0          157500.0    709033.5      39721.5   \n","74186             1          189000.0    640080.0      31261.5   \n","65253             1          121500.0    104256.0       8194.5   \n","60400             0          112500.0    755190.0      36328.5   \n","71140             1          193500.0    521280.0      25209.0   \n","\n","       AMT_GOODS_PRICE NAME_TYPE_SUITE  ...    var_41    var_42    var_43  \\\n","45499         657000.0   Unaccompanied  ...  0.614907  0.182116  0.283521   \n","74186         450000.0   Unaccompanied  ...  0.855122  0.907023  0.555958   \n","65253          90000.0   Unaccompanied  ...  0.837285  0.401049  0.896599   \n","60400         675000.0   Unaccompanied  ...  0.046936  0.164097  0.416916   \n","71140         450000.0   Unaccompanied  ...  0.245522  0.720827  0.837383   \n","\n","         var_44    var_45    var_46    var_47    var_48    var_49    var_50  \n","45499  0.716671  0.041032  0.432577  0.302302  0.812673  0.622103  0.290383  \n","74186  0.114399  0.959646  0.551736  0.793345  0.769783  0.029523  0.605118  \n","65253  0.775044  0.372050  0.355883  0.259412  0.282194  0.438214  0.348245  \n","60400  0.498222  0.366917  0.326498  0.383481  0.743987  0.612620  0.627862  \n","71140  0.520593  0.111493  0.763497  0.666572  0.421767  0.714451  0.916040  \n","\n","[5 rows x 170 columns]"],"text/html":["\n","  <div id=\"df-e49b696b-f798-4501-b64d-3fc9478cdbbc\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>NAME_CONTRACT_TYPE</th>\n","      <th>CODE_GENDER</th>\n","      <th>FLAG_OWN_CAR</th>\n","      <th>FLAG_OWN_REALTY</th>\n","      <th>CNT_CHILDREN</th>\n","      <th>AMT_INCOME_TOTAL</th>\n","      <th>AMT_CREDIT</th>\n","      <th>AMT_ANNUITY</th>\n","      <th>AMT_GOODS_PRICE</th>\n","      <th>NAME_TYPE_SUITE</th>\n","      <th>...</th>\n","      <th>var_41</th>\n","      <th>var_42</th>\n","      <th>var_43</th>\n","      <th>var_44</th>\n","      <th>var_45</th>\n","      <th>var_46</th>\n","      <th>var_47</th>\n","      <th>var_48</th>\n","      <th>var_49</th>\n","      <th>var_50</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>45499</th>\n","      <td>Cash loans</td>\n","      <td>F</td>\n","      <td>N</td>\n","      <td>Y</td>\n","      <td>0</td>\n","      <td>157500.0</td>\n","      <td>709033.5</td>\n","      <td>39721.5</td>\n","      <td>657000.0</td>\n","      <td>Unaccompanied</td>\n","      <td>...</td>\n","      <td>0.614907</td>\n","      <td>0.182116</td>\n","      <td>0.283521</td>\n","      <td>0.716671</td>\n","      <td>0.041032</td>\n","      <td>0.432577</td>\n","      <td>0.302302</td>\n","      <td>0.812673</td>\n","      <td>0.622103</td>\n","      <td>0.290383</td>\n","    </tr>\n","    <tr>\n","      <th>74186</th>\n","      <td>Cash loans</td>\n","      <td>F</td>\n","      <td>N</td>\n","      <td>Y</td>\n","      <td>1</td>\n","      <td>189000.0</td>\n","      <td>640080.0</td>\n","      <td>31261.5</td>\n","      <td>450000.0</td>\n","      <td>Unaccompanied</td>\n","      <td>...</td>\n","      <td>0.855122</td>\n","      <td>0.907023</td>\n","      <td>0.555958</td>\n","      <td>0.114399</td>\n","      <td>0.959646</td>\n","      <td>0.551736</td>\n","      <td>0.793345</td>\n","      <td>0.769783</td>\n","      <td>0.029523</td>\n","      <td>0.605118</td>\n","    </tr>\n","    <tr>\n","      <th>65253</th>\n","      <td>Cash loans</td>\n","      <td>F</td>\n","      <td>N</td>\n","      <td>N</td>\n","      <td>1</td>\n","      <td>121500.0</td>\n","      <td>104256.0</td>\n","      <td>8194.5</td>\n","      <td>90000.0</td>\n","      <td>Unaccompanied</td>\n","      <td>...</td>\n","      <td>0.837285</td>\n","      <td>0.401049</td>\n","      <td>0.896599</td>\n","      <td>0.775044</td>\n","      <td>0.372050</td>\n","      <td>0.355883</td>\n","      <td>0.259412</td>\n","      <td>0.282194</td>\n","      <td>0.438214</td>\n","      <td>0.348245</td>\n","    </tr>\n","    <tr>\n","      <th>60400</th>\n","      <td>Cash loans</td>\n","      <td>F</td>\n","      <td>N</td>\n","      <td>N</td>\n","      <td>0</td>\n","      <td>112500.0</td>\n","      <td>755190.0</td>\n","      <td>36328.5</td>\n","      <td>675000.0</td>\n","      <td>Unaccompanied</td>\n","      <td>...</td>\n","      <td>0.046936</td>\n","      <td>0.164097</td>\n","      <td>0.416916</td>\n","      <td>0.498222</td>\n","      <td>0.366917</td>\n","      <td>0.326498</td>\n","      <td>0.383481</td>\n","      <td>0.743987</td>\n","      <td>0.612620</td>\n","      <td>0.627862</td>\n","    </tr>\n","    <tr>\n","      <th>71140</th>\n","      <td>Cash loans</td>\n","      <td>F</td>\n","      <td>N</td>\n","      <td>N</td>\n","      <td>1</td>\n","      <td>193500.0</td>\n","      <td>521280.0</td>\n","      <td>25209.0</td>\n","      <td>450000.0</td>\n","      <td>Unaccompanied</td>\n","      <td>...</td>\n","      <td>0.245522</td>\n","      <td>0.720827</td>\n","      <td>0.837383</td>\n","      <td>0.520593</td>\n","      <td>0.111493</td>\n","      <td>0.763497</td>\n","      <td>0.666572</td>\n","      <td>0.421767</td>\n","      <td>0.714451</td>\n","      <td>0.916040</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>5 rows × 170 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-e49b696b-f798-4501-b64d-3fc9478cdbbc')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-e49b696b-f798-4501-b64d-3fc9478cdbbc button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-e49b696b-f798-4501-b64d-3fc9478cdbbc');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-8e07c689-786e-4beb-a482-2de91c7a896e\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-8e07c689-786e-4beb-a482-2de91c7a896e')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-8e07c689-786e-4beb-a482-2de91c7a896e button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":45}]},{"cell_type":"code","source":["abt_oos_01.head()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":255},"id":"zLK_kwajid_P","executionInfo":{"status":"ok","timestamp":1702930025132,"user_tz":180,"elapsed":273,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"}},"outputId":"c748ada3-7f56-4056-ca5d-8b5ca4ecf77b"},"execution_count":46,"outputs":[{"output_type":"execute_result","data":{"text/plain":["        SK_ID_CURR  TARGET NAME_CONTRACT_TYPE CODE_GENDER FLAG_OWN_CAR  \\\n","196348      243431       0    Revolving loans           M            N   \n","147976      127962       0         Cash loans           F            N   \n","52662       244667       1         Cash loans           M            N   \n","101577      220032       0         Cash loans           F            N   \n","173078      123746       0         Cash loans           F            N   \n","\n","       FLAG_OWN_REALTY  CNT_CHILDREN  AMT_INCOME_TOTAL  AMT_CREDIT  \\\n","196348               Y             0           90000.0    180000.0   \n","147976               N             0          225000.0    781920.0   \n","52662                Y             1          112500.0    450000.0   \n","101577               Y             0          225000.0    760225.5   \n","173078               N             0          225000.0    808650.0   \n","\n","        AMT_ANNUITY  ...    var_41    var_42    var_43    var_44    var_45  \\\n","196348       9000.0  ...  0.593565  0.789703  0.254486  0.969768  0.918087   \n","147976      42547.5  ...  0.346320  0.912834  0.910227  0.784684  0.485868   \n","52662       21888.0  ...  0.973969  0.671805  0.428278  0.189641  0.765047   \n","101577      32337.0  ...  0.766011  0.533777  0.995612  0.998489  0.318540   \n","173078      26217.0  ...  0.608260  0.155219  0.634449  0.650114  0.198636   \n","\n","          var_46    var_47    var_48    var_49    var_50  \n","196348  0.939984  0.941608  0.053827  0.571771  0.186664  \n","147976  0.812601  0.425869  0.335348  0.878763  0.792996  \n","52662   0.931675  0.944781  0.270274  0.296258  0.518378  \n","101577  0.923508  0.271327  0.558144  0.926976  0.794804  \n","173078  0.202310  0.193130  0.437779  0.901853  0.126509  \n","\n","[5 rows x 172 columns]"],"text/html":["\n","  <div id=\"df-f644e1b5-4e21-4eb3-9bfd-6f842924576d\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>SK_ID_CURR</th>\n","      <th>TARGET</th>\n","      <th>NAME_CONTRACT_TYPE</th>\n","      <th>CODE_GENDER</th>\n","      <th>FLAG_OWN_CAR</th>\n","      <th>FLAG_OWN_REALTY</th>\n","      <th>CNT_CHILDREN</th>\n","      <th>AMT_INCOME_TOTAL</th>\n","      <th>AMT_CREDIT</th>\n","      <th>AMT_ANNUITY</th>\n","      <th>...</th>\n","      <th>var_41</th>\n","      <th>var_42</th>\n","      <th>var_43</th>\n","      <th>var_44</th>\n","      <th>var_45</th>\n","      <th>var_46</th>\n","      <th>var_47</th>\n","      <th>var_48</th>\n","      <th>var_49</th>\n","      <th>var_50</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>196348</th>\n","      <td>243431</td>\n","      <td>0</td>\n","      <td>Revolving loans</td>\n","      <td>M</td>\n","      <td>N</td>\n","      <td>Y</td>\n","      <td>0</td>\n","      <td>90000.0</td>\n","      <td>180000.0</td>\n","      <td>9000.0</td>\n","      <td>...</td>\n","      <td>0.593565</td>\n","      <td>0.789703</td>\n","      <td>0.254486</td>\n","      <td>0.969768</td>\n","      <td>0.918087</td>\n","      <td>0.939984</td>\n","      <td>0.941608</td>\n","      <td>0.053827</td>\n","      <td>0.571771</td>\n","      <td>0.186664</td>\n","    </tr>\n","    <tr>\n","      <th>147976</th>\n","      <td>127962</td>\n","      <td>0</td>\n","      <td>Cash loans</td>\n","      <td>F</td>\n","      <td>N</td>\n","      <td>N</td>\n","      <td>0</td>\n","      <td>225000.0</td>\n","      <td>781920.0</td>\n","      <td>42547.5</td>\n","      <td>...</td>\n","      <td>0.346320</td>\n","      <td>0.912834</td>\n","      <td>0.910227</td>\n","      <td>0.784684</td>\n","      <td>0.485868</td>\n","      <td>0.812601</td>\n","      <td>0.425869</td>\n","      <td>0.335348</td>\n","      <td>0.878763</td>\n","      <td>0.792996</td>\n","    </tr>\n","    <tr>\n","      <th>52662</th>\n","      <td>244667</td>\n","      <td>1</td>\n","      <td>Cash loans</td>\n","      <td>M</td>\n","      <td>N</td>\n","      <td>Y</td>\n","      <td>1</td>\n","      <td>112500.0</td>\n","      <td>450000.0</td>\n","      <td>21888.0</td>\n","      <td>...</td>\n","      <td>0.973969</td>\n","      <td>0.671805</td>\n","      <td>0.428278</td>\n","      <td>0.189641</td>\n","      <td>0.765047</td>\n","      <td>0.931675</td>\n","      <td>0.944781</td>\n","      <td>0.270274</td>\n","      <td>0.296258</td>\n","      <td>0.518378</td>\n","    </tr>\n","    <tr>\n","      <th>101577</th>\n","      <td>220032</td>\n","      <td>0</td>\n","      <td>Cash loans</td>\n","      <td>F</td>\n","      <td>N</td>\n","      <td>Y</td>\n","      <td>0</td>\n","      <td>225000.0</td>\n","      <td>760225.5</td>\n","      <td>32337.0</td>\n","      <td>...</td>\n","      <td>0.766011</td>\n","      <td>0.533777</td>\n","      <td>0.995612</td>\n","      <td>0.998489</td>\n","      <td>0.318540</td>\n","      <td>0.923508</td>\n","      <td>0.271327</td>\n","      <td>0.558144</td>\n","      <td>0.926976</td>\n","      <td>0.794804</td>\n","    </tr>\n","    <tr>\n","      <th>173078</th>\n","      <td>123746</td>\n","      <td>0</td>\n","      <td>Cash loans</td>\n","      <td>F</td>\n","      <td>N</td>\n","      <td>N</td>\n","      <td>0</td>\n","      <td>225000.0</td>\n","      <td>808650.0</td>\n","      <td>26217.0</td>\n","      <td>...</td>\n","      <td>0.608260</td>\n","      <td>0.155219</td>\n","      <td>0.634449</td>\n","      <td>0.650114</td>\n","      <td>0.198636</td>\n","      <td>0.202310</td>\n","      <td>0.193130</td>\n","      <td>0.437779</td>\n","      <td>0.901853</td>\n","      <td>0.126509</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>5 rows × 172 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-f644e1b5-4e21-4eb3-9bfd-6f842924576d')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-f644e1b5-4e21-4eb3-9bfd-6f842924576d button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-f644e1b5-4e21-4eb3-9bfd-6f842924576d');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-942d3234-9cde-43c4-9bd0-9e3de808ec77\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-942d3234-9cde-43c4-9bd0-9e3de808ec77')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-942d3234-9cde-43c4-9bd0-9e3de808ec77 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":46}]},{"cell_type":"markdown","source":["#### Trazendo Target para tabela de treino"],"metadata":{"id":"DZtsgK85kCGW"}},{"cell_type":"code","source":["abt_treino_02 = abt_treino_01.merge(abt_00[['TARGET',ID_treino]], left_index=True, right_index=True, how='inner')\n","abt_treino_02.head()"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":255},"id":"sDXob3jNkCiM","executionInfo":{"status":"ok","timestamp":1702930444668,"user_tz":180,"elapsed":1008,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"}},"outputId":"c03c3f54-1904-4693-ae32-61d79f480e92"},"execution_count":47,"outputs":[{"output_type":"execute_result","data":{"text/plain":["      NAME_CONTRACT_TYPE CODE_GENDER FLAG_OWN_CAR FLAG_OWN_REALTY  \\\n","45499         Cash loans           F            N               Y   \n","74186         Cash loans           F            N               Y   \n","65253         Cash loans           F            N               N   \n","60400         Cash loans           F            N               N   \n","71140         Cash loans           F            N               N   \n","\n","       CNT_CHILDREN  AMT_INCOME_TOTAL  AMT_CREDIT  AMT_ANNUITY  \\\n","45499             0          157500.0    709033.5      39721.5   \n","74186             1          189000.0    640080.0      31261.5   \n","65253             1          121500.0    104256.0       8194.5   \n","60400             0          112500.0    755190.0      36328.5   \n","71140             1          193500.0    521280.0      25209.0   \n","\n","       AMT_GOODS_PRICE NAME_TYPE_SUITE  ...    var_43    var_44    var_45  \\\n","45499         657000.0   Unaccompanied  ...  0.283521  0.716671  0.041032   \n","74186         450000.0   Unaccompanied  ...  0.555958  0.114399  0.959646   \n","65253          90000.0   Unaccompanied  ...  0.896599  0.775044  0.372050   \n","60400         675000.0   Unaccompanied  ...  0.416916  0.498222  0.366917   \n","71140         450000.0   Unaccompanied  ...  0.837383  0.520593  0.111493   \n","\n","         var_46    var_47    var_48    var_49    var_50  TARGET  SK_ID_CURR  \n","45499  0.432577  0.302302  0.812673  0.622103  0.290383       0      102669  \n","74186  0.551736  0.793345  0.769783  0.029523  0.605118       1      202196  \n","65253  0.355883  0.259412  0.282194  0.438214  0.348245       0      272854  \n","60400  0.326498  0.383481  0.743987  0.612620  0.627862       0      207628  \n","71140  0.763497  0.666572  0.421767  0.714451  0.916040       1      244369  \n","\n","[5 rows x 172 columns]"],"text/html":["\n","  <div id=\"df-ab4631c6-7e02-45ba-9ed6-1eeb4b51f52e\" class=\"colab-df-container\">\n","    <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>NAME_CONTRACT_TYPE</th>\n","      <th>CODE_GENDER</th>\n","      <th>FLAG_OWN_CAR</th>\n","      <th>FLAG_OWN_REALTY</th>\n","      <th>CNT_CHILDREN</th>\n","      <th>AMT_INCOME_TOTAL</th>\n","      <th>AMT_CREDIT</th>\n","      <th>AMT_ANNUITY</th>\n","      <th>AMT_GOODS_PRICE</th>\n","      <th>NAME_TYPE_SUITE</th>\n","      <th>...</th>\n","      <th>var_43</th>\n","      <th>var_44</th>\n","      <th>var_45</th>\n","      <th>var_46</th>\n","      <th>var_47</th>\n","      <th>var_48</th>\n","      <th>var_49</th>\n","      <th>var_50</th>\n","      <th>TARGET</th>\n","      <th>SK_ID_CURR</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>45499</th>\n","      <td>Cash loans</td>\n","      <td>F</td>\n","      <td>N</td>\n","      <td>Y</td>\n","      <td>0</td>\n","      <td>157500.0</td>\n","      <td>709033.5</td>\n","      <td>39721.5</td>\n","      <td>657000.0</td>\n","      <td>Unaccompanied</td>\n","      <td>...</td>\n","      <td>0.283521</td>\n","      <td>0.716671</td>\n","      <td>0.041032</td>\n","      <td>0.432577</td>\n","      <td>0.302302</td>\n","      <td>0.812673</td>\n","      <td>0.622103</td>\n","      <td>0.290383</td>\n","      <td>0</td>\n","      <td>102669</td>\n","    </tr>\n","    <tr>\n","      <th>74186</th>\n","      <td>Cash loans</td>\n","      <td>F</td>\n","      <td>N</td>\n","      <td>Y</td>\n","      <td>1</td>\n","      <td>189000.0</td>\n","      <td>640080.0</td>\n","      <td>31261.5</td>\n","      <td>450000.0</td>\n","      <td>Unaccompanied</td>\n","      <td>...</td>\n","      <td>0.555958</td>\n","      <td>0.114399</td>\n","      <td>0.959646</td>\n","      <td>0.551736</td>\n","      <td>0.793345</td>\n","      <td>0.769783</td>\n","      <td>0.029523</td>\n","      <td>0.605118</td>\n","      <td>1</td>\n","      <td>202196</td>\n","    </tr>\n","    <tr>\n","      <th>65253</th>\n","      <td>Cash loans</td>\n","      <td>F</td>\n","      <td>N</td>\n","      <td>N</td>\n","      <td>1</td>\n","      <td>121500.0</td>\n","      <td>104256.0</td>\n","      <td>8194.5</td>\n","      <td>90000.0</td>\n","      <td>Unaccompanied</td>\n","      <td>...</td>\n","      <td>0.896599</td>\n","      <td>0.775044</td>\n","      <td>0.372050</td>\n","      <td>0.355883</td>\n","      <td>0.259412</td>\n","      <td>0.282194</td>\n","      <td>0.438214</td>\n","      <td>0.348245</td>\n","      <td>0</td>\n","      <td>272854</td>\n","    </tr>\n","    <tr>\n","      <th>60400</th>\n","      <td>Cash loans</td>\n","      <td>F</td>\n","      <td>N</td>\n","      <td>N</td>\n","      <td>0</td>\n","      <td>112500.0</td>\n","      <td>755190.0</td>\n","      <td>36328.5</td>\n","      <td>675000.0</td>\n","      <td>Unaccompanied</td>\n","      <td>...</td>\n","      <td>0.416916</td>\n","      <td>0.498222</td>\n","      <td>0.366917</td>\n","      <td>0.326498</td>\n","      <td>0.383481</td>\n","      <td>0.743987</td>\n","      <td>0.612620</td>\n","      <td>0.627862</td>\n","      <td>0</td>\n","      <td>207628</td>\n","    </tr>\n","    <tr>\n","      <th>71140</th>\n","      <td>Cash loans</td>\n","      <td>F</td>\n","      <td>N</td>\n","      <td>N</td>\n","      <td>1</td>\n","      <td>193500.0</td>\n","      <td>521280.0</td>\n","      <td>25209.0</td>\n","      <td>450000.0</td>\n","      <td>Unaccompanied</td>\n","      <td>...</td>\n","      <td>0.837383</td>\n","      <td>0.520593</td>\n","      <td>0.111493</td>\n","      <td>0.763497</td>\n","      <td>0.666572</td>\n","      <td>0.421767</td>\n","      <td>0.714451</td>\n","      <td>0.916040</td>\n","      <td>1</td>\n","      <td>244369</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>5 rows × 172 columns</p>\n","</div>\n","    <div class=\"colab-df-buttons\">\n","\n","  <div class=\"colab-df-container\">\n","    <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-ab4631c6-7e02-45ba-9ed6-1eeb4b51f52e')\"\n","            title=\"Convert this dataframe to an interactive table.\"\n","            style=\"display:none;\">\n","\n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\" viewBox=\"0 -960 960 960\">\n","    <path d=\"M120-120v-720h720v720H120Zm60-500h600v-160H180v160Zm220 220h160v-160H400v160Zm0 220h160v-160H400v160ZM180-400h160v-160H180v160Zm440 0h160v-160H620v160ZM180-180h160v-160H180v160Zm440 0h160v-160H620v160Z\"/>\n","  </svg>\n","    </button>\n","\n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    .colab-df-buttons div {\n","      margin-bottom: 4px;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","    <script>\n","      const buttonEl =\n","        document.querySelector('#df-ab4631c6-7e02-45ba-9ed6-1eeb4b51f52e button.colab-df-convert');\n","      buttonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","      async function convertToInteractive(key) {\n","        const element = document.querySelector('#df-ab4631c6-7e02-45ba-9ed6-1eeb4b51f52e');\n","        const dataTable =\n","          await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                    [key], {});\n","        if (!dataTable) return;\n","\n","        const docLinkHtml = 'Like what you see? Visit the ' +\n","          '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","          + ' to learn more about interactive tables.';\n","        element.innerHTML = '';\n","        dataTable['output_type'] = 'display_data';\n","        await google.colab.output.renderOutput(dataTable, element);\n","        const docLink = document.createElement('div');\n","        docLink.innerHTML = docLinkHtml;\n","        element.appendChild(docLink);\n","      }\n","    </script>\n","  </div>\n","\n","\n","<div id=\"df-b439f166-0588-4bcd-8eaf-ab563a360dd7\">\n","  <button class=\"colab-df-quickchart\" onclick=\"quickchart('df-b439f166-0588-4bcd-8eaf-ab563a360dd7')\"\n","            title=\"Suggest charts\"\n","            style=\"display:none;\">\n","\n","<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","     width=\"24px\">\n","    <g>\n","        <path d=\"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 17H7v-7h2v7zm4 0h-2V7h2v10zm4 0h-2v-4h2v4z\"/>\n","    </g>\n","</svg>\n","  </button>\n","\n","<style>\n","  .colab-df-quickchart {\n","      --bg-color: #E8F0FE;\n","      --fill-color: #1967D2;\n","      --hover-bg-color: #E2EBFA;\n","      --hover-fill-color: #174EA6;\n","      --disabled-fill-color: #AAA;\n","      --disabled-bg-color: #DDD;\n","  }\n","\n","  [theme=dark] .colab-df-quickchart {\n","      --bg-color: #3B4455;\n","      --fill-color: #D2E3FC;\n","      --hover-bg-color: #434B5C;\n","      --hover-fill-color: #FFFFFF;\n","      --disabled-bg-color: #3B4455;\n","      --disabled-fill-color: #666;\n","  }\n","\n","  .colab-df-quickchart {\n","    background-color: var(--bg-color);\n","    border: none;\n","    border-radius: 50%;\n","    cursor: pointer;\n","    display: none;\n","    fill: var(--fill-color);\n","    height: 32px;\n","    padding: 0;\n","    width: 32px;\n","  }\n","\n","  .colab-df-quickchart:hover {\n","    background-color: var(--hover-bg-color);\n","    box-shadow: 0 1px 2px rgba(60, 64, 67, 0.3), 0 1px 3px 1px rgba(60, 64, 67, 0.15);\n","    fill: var(--button-hover-fill-color);\n","  }\n","\n","  .colab-df-quickchart-complete:disabled,\n","  .colab-df-quickchart-complete:disabled:hover {\n","    background-color: var(--disabled-bg-color);\n","    fill: var(--disabled-fill-color);\n","    box-shadow: none;\n","  }\n","\n","  .colab-df-spinner {\n","    border: 2px solid var(--fill-color);\n","    border-color: transparent;\n","    border-bottom-color: var(--fill-color);\n","    animation:\n","      spin 1s steps(1) infinite;\n","  }\n","\n","  @keyframes spin {\n","    0% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","      border-left-color: var(--fill-color);\n","    }\n","    20% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    30% {\n","      border-color: transparent;\n","      border-left-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","      border-right-color: var(--fill-color);\n","    }\n","    40% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-top-color: var(--fill-color);\n","    }\n","    60% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","    }\n","    80% {\n","      border-color: transparent;\n","      border-right-color: var(--fill-color);\n","      border-bottom-color: var(--fill-color);\n","    }\n","    90% {\n","      border-color: transparent;\n","      border-bottom-color: var(--fill-color);\n","    }\n","  }\n","</style>\n","\n","  <script>\n","    async function quickchart(key) {\n","      const quickchartButtonEl =\n","        document.querySelector('#' + key + ' button');\n","      quickchartButtonEl.disabled = true;  // To prevent multiple clicks.\n","      quickchartButtonEl.classList.add('colab-df-spinner');\n","      try {\n","        const charts = await google.colab.kernel.invokeFunction(\n","            'suggestCharts', [key], {});\n","      } catch (error) {\n","        console.error('Error during call to suggestCharts:', error);\n","      }\n","      quickchartButtonEl.classList.remove('colab-df-spinner');\n","      quickchartButtonEl.classList.add('colab-df-quickchart-complete');\n","    }\n","    (() => {\n","      let quickchartButtonEl =\n","        document.querySelector('#df-b439f166-0588-4bcd-8eaf-ab563a360dd7 button');\n","      quickchartButtonEl.style.display =\n","        google.colab.kernel.accessAllowed ? 'block' : 'none';\n","    })();\n","  </script>\n","</div>\n","\n","    </div>\n","  </div>\n"]},"metadata":{},"execution_count":47}]},{"cell_type":"markdown","source":["# Ajuste da escala dos dados\n","- Normalização\n","- Padronização\n","\n","Não vamos ajustar a escala dos dados porque para o processo de seleção de variáveis utlizaremos algoritmo baseado em árvore e para modelagem iremos categorizar todas as variáveis numéricas."],"metadata":{"id":"r1JXSRknkIdR"}},{"cell_type":"markdown","source":["# Seleção de variáveis"],"metadata":{"id":"U8K77Y4qkKdz"}},{"cell_type":"code","source":["X = abt_treino_02.drop(axis=1,columns=['TARGET',ID_treino])\n","y = abt_treino_02.TARGET\n","\n","# Treinar modelo com algoritmo Gradient Boosting Classifier\n","clf = GradientBoostingClassifier() # troque aqui qual classificador quer utilizar: GradientBoostingClassifier, DecisionTreeClassifier\n","clf.fit(X, y)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":409},"id":"Xf-0MjRLkGuV","executionInfo":{"status":"error","timestamp":1702930495008,"user_tz":180,"elapsed":6932,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"}},"outputId":"c3ed1af9-43af-46a3-8dfd-efc07d70e6d6"},"execution_count":48,"outputs":[{"output_type":"error","ename":"ValueError","evalue":"ignored","traceback":["\u001b[0;31m---------------------------------------------------------------------------\u001b[0m","\u001b[0;31mValueError\u001b[0m                                Traceback (most recent call last)","\u001b[0;32m<ipython-input-48-6358446f70bd>\u001b[0m in \u001b[0;36m<cell line: 6>\u001b[0;34m()\u001b[0m\n\u001b[1;32m      4\u001b[0m \u001b[0;31m# Treinar modelo com algoritmo Gradient Boosting Classifier\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m      5\u001b[0m \u001b[0mclf\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mGradientBoostingClassifier\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;31m# troque aqui qual classificador quer utilizar: GradientBoostingClassifier, DecisionTreeClassifier\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m----> 6\u001b[0;31m \u001b[0mclf\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mfit\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mX\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0my\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[0;32m/usr/local/lib/python3.10/dist-packages/sklearn/ensemble/_gb.py\u001b[0m in \u001b[0;36mfit\u001b[0;34m(self, X, y, sample_weight, monitor)\u001b[0m\n\u001b[1;32m    427\u001b[0m         \u001b[0;31m# trees use different types for X and y, checking them separately.\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    428\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 429\u001b[0;31m         X, y = self._validate_data(\n\u001b[0m\u001b[1;32m    430\u001b[0m             \u001b[0mX\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0my\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0maccept_sparse\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m[\u001b[0m\u001b[0;34m\"csr\"\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m\"csc\"\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m\"coo\"\u001b[0m\u001b[0;34m]\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mdtype\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mDTYPE\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mmulti_output\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;32mTrue\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    431\u001b[0m         )\n","\u001b[0;32m/usr/local/lib/python3.10/dist-packages/sklearn/base.py\u001b[0m in \u001b[0;36m_validate_data\u001b[0;34m(self, X, y, reset, validate_separately, **check_params)\u001b[0m\n\u001b[1;32m    582\u001b[0m                 \u001b[0my\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mcheck_array\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0my\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0minput_name\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;34m\"y\"\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m**\u001b[0m\u001b[0mcheck_y_params\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    583\u001b[0m             \u001b[0;32melse\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 584\u001b[0;31m                 \u001b[0mX\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0my\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mcheck_X_y\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mX\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0my\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m**\u001b[0m\u001b[0mcheck_params\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    585\u001b[0m             \u001b[0mout\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mX\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0my\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    586\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.10/dist-packages/sklearn/utils/validation.py\u001b[0m in \u001b[0;36mcheck_X_y\u001b[0;34m(X, y, accept_sparse, accept_large_sparse, dtype, order, copy, force_all_finite, ensure_2d, allow_nd, multi_output, ensure_min_samples, ensure_min_features, y_numeric, estimator)\u001b[0m\n\u001b[1;32m   1104\u001b[0m         )\n\u001b[1;32m   1105\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 1106\u001b[0;31m     X = check_array(\n\u001b[0m\u001b[1;32m   1107\u001b[0m         \u001b[0mX\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   1108\u001b[0m         \u001b[0maccept_sparse\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0maccept_sparse\u001b[0m\u001b[0;34m,\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.10/dist-packages/sklearn/utils/validation.py\u001b[0m in \u001b[0;36mcheck_array\u001b[0;34m(array, accept_sparse, accept_large_sparse, dtype, order, copy, force_all_finite, ensure_2d, allow_nd, ensure_min_samples, ensure_min_features, estimator, input_name)\u001b[0m\n\u001b[1;32m    877\u001b[0m                     \u001b[0marray\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mxp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mastype\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0marray\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mdtype\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mcopy\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0;32mFalse\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    878\u001b[0m                 \u001b[0;32melse\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 879\u001b[0;31m                     \u001b[0marray\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0m_asarray_with_order\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0marray\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0morder\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0morder\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mdtype\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mdtype\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mxp\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mxp\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    880\u001b[0m             \u001b[0;32mexcept\u001b[0m \u001b[0mComplexWarning\u001b[0m \u001b[0;32mas\u001b[0m \u001b[0mcomplex_warning\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    881\u001b[0m                 raise ValueError(\n","\u001b[0;32m/usr/local/lib/python3.10/dist-packages/sklearn/utils/_array_api.py\u001b[0m in \u001b[0;36m_asarray_with_order\u001b[0;34m(array, dtype, order, copy, xp)\u001b[0m\n\u001b[1;32m    183\u001b[0m     \u001b[0;32mif\u001b[0m \u001b[0mxp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m__name__\u001b[0m \u001b[0;32min\u001b[0m \u001b[0;34m{\u001b[0m\u001b[0;34m\"numpy\"\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0;34m\"numpy.array_api\"\u001b[0m\u001b[0;34m}\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    184\u001b[0m         \u001b[0;31m# Use NumPy API to support order\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m--> 185\u001b[0;31m         \u001b[0marray\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0mnumpy\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0masarray\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0marray\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0morder\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0morder\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mdtype\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mdtype\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m    186\u001b[0m         \u001b[0;32mreturn\u001b[0m \u001b[0mxp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0masarray\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0marray\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mcopy\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mcopy\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m    187\u001b[0m     \u001b[0;32melse\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n","\u001b[0;32m/usr/local/lib/python3.10/dist-packages/pandas/core/generic.py\u001b[0m in \u001b[0;36m__array__\u001b[0;34m(self, dtype)\u001b[0m\n\u001b[1;32m   2068\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   2069\u001b[0m     \u001b[0;32mdef\u001b[0m \u001b[0m__array__\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mdtype\u001b[0m\u001b[0;34m:\u001b[0m \u001b[0mnpt\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mDTypeLike\u001b[0m \u001b[0;34m|\u001b[0m \u001b[0;32mNone\u001b[0m \u001b[0;34m=\u001b[0m \u001b[0;32mNone\u001b[0m\u001b[0;34m)\u001b[0m \u001b[0;34m->\u001b[0m \u001b[0mnp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0mndarray\u001b[0m\u001b[0;34m:\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0;32m-> 2070\u001b[0;31m         \u001b[0;32mreturn\u001b[0m \u001b[0mnp\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0masarray\u001b[0m\u001b[0;34m(\u001b[0m\u001b[0mself\u001b[0m\u001b[0;34m.\u001b[0m\u001b[0m_values\u001b[0m\u001b[0;34m,\u001b[0m \u001b[0mdtype\u001b[0m\u001b[0;34m=\u001b[0m\u001b[0mdtype\u001b[0m\u001b[0;34m)\u001b[0m\u001b[0;34m\u001b[0m\u001b[0;34m\u001b[0m\u001b[0m\n\u001b[0m\u001b[1;32m   2071\u001b[0m \u001b[0;34m\u001b[0m\u001b[0m\n\u001b[1;32m   2072\u001b[0m     def __array_wrap__(\n","\u001b[0;31mValueError\u001b[0m: could not convert string to float: 'Cash loans'"]}]},{"cell_type":"code","source":["\n"],"metadata":{"id":"f1hQqb8wkRfl","executionInfo":{"status":"aborted","timestamp":1702930495010,"user_tz":180,"elapsed":5,"user":{"displayName":"Rafael Salomao","userId":"07380706284005681115"}}},"execution_count":null,"outputs":[]}],"metadata":{"colab":{"provenance":[],"authorship_tag":"ABX9TyObfn2kYky49m5g0CgIi3bl"},"kernelspec":{"display_name":"Python 3","name":"python3"},"language_info":{"name":"python"}},"nbformat":4,"nbformat_minor":0}